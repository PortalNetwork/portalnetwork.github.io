(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var _vueCarousel3d = require("vue-carousel-3d");

var _tls = require("tls");

var _animatedScrollTo = require("animated-scroll-to");

var _animatedScrollTo2 = _interopRequireDefault(_animatedScrollTo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getUrl() {
    var strUrl = location.search;
    var getPara, ParaVal;
    var aryPara = [];
    if (strUrl.indexOf("?") != -1) {
        var getSearch = strUrl.split("?");
        getPara = getSearch[1].split("&");
        for (var i = 0; i < getPara.length; i++) {
            ParaVal = getPara[i].split("=");
            aryPara.push(ParaVal[0]);
            aryPara[ParaVal[0]] = ParaVal[1];
        }
    }
    return aryPara;
}

Vue.use(_vueCarousel3d.Carousel3d);
new Vue({
    el: '#app',
    data: {
        isMenuOpen: false,
        slides: [{ src: "/images/sildeShow/showcase1.png" }, { src: "/images/sildeShow/showcase2.png" }, { src: "/images/sildeShow/showcase3.png" }],
        isYoutubeShow: false,
        shareOpen: false,
        isheaderFix: false,
        scroll: 0
    },
    components: {
        Carousel3d: _vueCarousel3d.Carousel3d,
        Slide: _vueCarousel3d.Slide
    },
    methods: {
        toggleMenuFn: function toggleMenuFn() {
            this.isMenuOpen = !this.isMenuOpen;
        },
        comingsoonFn: function comingsoonFn() {
            alert("coming soon");
        },
        gaSeedPageView: function gaSeedPageView(name) {
            ga('send', 'event', name, 'click');
            var debug = getUrl();
            if (debug["debug"] == "true") console.log("GA PageView -> ", name);
        },
        youtubeShow: function youtubeShow() {
            this.isYoutubeShow = !this.isYoutubeShow;
        },
        fixedPopOpen: function fixedPopOpen() {
            this.shareOpen = !this.shareOpen;
        },
        gotoPageTop: function gotoPageTop() {
            (0, _animatedScrollTo2.default)(0);
        },
        scrollFn: function scrollFn() {
            this.scroll = document.documentElement.scrollTop;
            if (this.scroll > 150) {
                this.isheaderFix = true;
            } else {
                this.isheaderFix = false;
            }
        }
    },
    mounted: function mounted() {
        AOS.init();
        window.addEventListener('scroll', this.scrollFn);
    }
});

},{"animated-scroll-to":2,"tls":3,"vue-carousel-3d":4}],2:[function(require,module,exports){
(function() {
  'use strict';

  // desiredOffset - page offset to scroll to
  // speed - duration of the scroll per 1000px
  function __ANIMATE_SCROLL_TO(desiredOffset) {
    var userOptions = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

    var options = {
      speed: 500,
      minDuration: 250,
      maxDuration: 1500,
      cancelOnUserAction: true,
      element: window,
      horizontal: false,
      onComplete: undefined,
      passive: true,
      offset: 0
    };

    var optionsKeys = Object.keys(options);

    // Override default options
    for (var i = 0; i < optionsKeys.length; i++) {
      var key = optionsKeys[i];

      if (typeof userOptions[key] !== 'undefined') {
        options[key] = userOptions[key];
      }
    }

    if (!options.cancelOnUserAction && options.passive) {
      options.passive = false;
      if (userOptions.passive) {
        console && console.warn(
          'animated-scroll-to:\n "passive" was set to "false" to prevent errors, ' +
          'as using "cancelOnUserAction: false" doesn\'t work with passive events.')
      }
    }

    if (desiredOffset instanceof HTMLElement) {
      if (userOptions.element && userOptions.element instanceof HTMLElement) {
        if (options.horizontal) {
          desiredOffset = (desiredOffset.getBoundingClientRect().left + userOptions.element.scrollLeft)
            - userOptions.element.getBoundingClientRect().left;
        } else {
          desiredOffset = (desiredOffset.getBoundingClientRect().top + userOptions.element.scrollTop)
            - userOptions.element.getBoundingClientRect().top;
        }
      } else if (options.horizontal) {
        var scrollLeft = window.scrollX || document.documentElement.scrollLeft;
        desiredOffset = scrollLeft + desiredOffset.getBoundingClientRect().left;
      } else {
        var scrollTop = window.scrollY || document.documentElement.scrollTop;
        desiredOffset = scrollTop + desiredOffset.getBoundingClientRect().top;
      }
    }

    // Add additonal user offset
    desiredOffset += options.offset

    options.isWindow = options.element === window;

    var initialScrollPosition = null;
    var initialAxisScollPosition = 0;
    var maxScroll = null;

    if (options.isWindow) {
      if (options.horizontal) {
        // get cross browser scroll positions
        initialScrollPosition = window.scrollX || document.documentElement.scrollLeft;
        initialAxisScollPosition = window.scrollY || document.documentElement.scrollTop;
        // cross browser document height minus window height
        maxScroll = Math.max(
          document.body.scrollWidth, document.documentElement.scrollWidth,
          document.body.offsetWidth, document.documentElement.offsetWidth,
          document.body.clientWidth, document.documentElement.clientWidth
        ) - window.innerWidth;
      } else {
        // get cross browser scroll positions
        initialScrollPosition = window.scrollY || document.documentElement.scrollTop;
        initialAxisScollPosition = window.scrollX || document.documentElement.scrollLeft;
        // cross browser document width minus window width
        maxScroll = Math.max(
          document.body.scrollHeight, document.documentElement.scrollHeight,
          document.body.offsetHeight, document.documentElement.offsetHeight,
          document.body.clientHeight, document.documentElement.clientHeight
        ) - window.innerHeight;
      }
    } else {
      // DOM element
      if (options.horizontal) {
        initialScrollPosition = options.element.scrollLeft;
        maxScroll = options.element.scrollWidth - options.element.clientWidth;
      } else {
        initialScrollPosition = options.element.scrollTop;
        maxScroll = options.element.scrollHeight - options.element.clientHeight;
      }
    }

    // If the scroll position is greater than maximum available scroll
    if (desiredOffset > maxScroll) {
      desiredOffset = maxScroll;
    }

    // Calculate diff to scroll
    var diff = desiredOffset - initialScrollPosition;

    // Do nothing if the page is already there
    if (diff === 0) {
      // Execute callback if there is any
      if (options.onComplete && typeof options.onComplete === 'function') {
        options.onComplete()
      }

      return;
    }

    // Calculate duration of the scroll
    var duration = Math.abs(Math.round((diff / 1000) * options.speed));

    // Set minimum and maximum duration
    if (duration < options.minDuration) {
      duration = options.minDuration;
    } else if (duration > options.maxDuration) {
      duration = options.maxDuration;
    }

    var startingTime = Date.now();

    // Request animation frame ID
    var requestID = null;

    // Method handler
    var handleUserEvent = null;

    if (options.cancelOnUserAction) {
      // Set handler to cancel scroll on user action
      handleUserEvent = function() {
        removeListeners();
        cancelAnimationFrame(requestID);
      };
      window.addEventListener('keydown', handleUserEvent, { passive: options.passive });
      window.addEventListener('mousedown', handleUserEvent, { passive: options.passive });
    } else {
      // Set handler to prevent user actions while scroll is active
      handleUserEvent = function(e) { e.preventDefault(); };
      window.addEventListener('scroll', handleUserEvent, { passive: options.passive });
    }

    window.addEventListener('wheel', handleUserEvent, { passive: options.passive });
    window.addEventListener('touchstart', handleUserEvent, { passive: options.passive });

    var removeListeners = function () {
      window.removeEventListener('wheel', handleUserEvent);
      window.removeEventListener('touchstart', handleUserEvent);

      if (options.cancelOnUserAction) {
        window.removeEventListener('keydown', handleUserEvent);
        window.removeEventListener('mousedown', handleUserEvent);
      } else {
        window.removeEventListener('scroll', handleUserEvent);
      }
    };

    var step = function () {
      var timeDiff = Date.now() - startingTime;
      var t = (timeDiff / duration) - 1;
      var easing = t * t * t + 1;
      var scrollPosition = Math.round(initialScrollPosition + (diff * easing));

      var doScroll = function(position) {
        if (options.isWindow) {
          if (options.horizontal) {
            options.element.scrollTo(position, initialAxisScollPosition);
          } else {
            options.element.scrollTo(initialAxisScollPosition, position);
          }
        } else if (options.horizontal) {
          options.element.scrollLeft = position;
        } else {
          options.element.scrollTop = position;
        }
      }

      if (timeDiff < duration && scrollPosition !== desiredOffset) {
        // If scroll didn't reach desired offset or time is not elapsed
        // Scroll to a new position
        // And request a new step
        doScroll(scrollPosition);

        requestID = requestAnimationFrame(step);
      } else {
        // If the time elapsed or we reached the desired offset
        // Set scroll to the desired offset (when rounding made it to be off a pixel or two)
        // Clear animation frame to be sure
        doScroll(desiredOffset);

        cancelAnimationFrame(requestID);

        // Remove listeners
        removeListeners();

        // Animation is complete, execute callback if there is any
        if (options.onComplete && typeof options.onComplete === 'function') {
          options.onComplete()
        }
      }
    };

    // Start animating scroll
    requestID = requestAnimationFrame(step);
  }

  if (typeof exports !== 'undefined') {
    if (typeof module !== 'undefined' && module.exports) {
      module.exports = __ANIMATE_SCROLL_TO;
      exports = module.exports;
    }
    exports.default = __ANIMATE_SCROLL_TO;
  } else if (window) {
    window.animateScrollTo = __ANIMATE_SCROLL_TO;
  }
}).call(this);

},{}],3:[function(require,module,exports){

},{}],4:[function(require,module,exports){
/*!
 * vue-carousel-3d v0.1.20
 * (c) 2018 Vladimir Bujanovic
 * https://github.com/wlada/vue-carousel-3d#readme
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Carousel3d=e():t.Carousel3d=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Slide=e.Carousel3d=void 0;var r=n(1),o=i(r),s=n(15),a=i(s),u=function(t){t.component("carousel3d",o.default),t.component("slide",a.default)};e.default={install:u},e.Carousel3d=o.default,e.Slide=a.default},function(t,e,n){n(2);var i=n(7)(n(8),n(57),"data-v-c06c963c",null);t.exports=i.exports},function(t,e,n){var i=n(3);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);n(5)("e749a8c4",i,!0)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".carousel-3d-container[data-v-c06c963c]{min-height:1px;width:100%;position:relative;z-index:0;overflow:hidden;margin:20px auto;box-sizing:border-box}.carousel-3d-slider[data-v-c06c963c]{position:relative;margin:0 auto;transform-style:preserve-3d;-webkit-perspective:1000px;-moz-perspective:1000px;perspective:1000px}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=c[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(o(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var s=[],r=0;r<n.parts.length;r++)s.push(o(n.parts[r]));c[n.id]={id:n.id,refs:1,parts:s}}}}function r(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function o(t){var e,n,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(f)return v;i.parentNode.removeChild(i)}if(x){var o=p++;i=h||(h=r()),e=s.bind(null,i,o,!1),n=s.bind(null,i,o,!0)}else i=r(),e=a.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function s(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=m(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function a(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u="undefined"!=typeof document,l=n(6),c={},d=u&&(document.head||document.getElementsByTagName("head")[0]),h=null,p=0,f=!1,v=function(){},x="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n){f=n;var r=l(t,e);return i(r),function(e){for(var n=[],o=0;o<r.length;o++){var s=r[o],a=c[s.id];a.refs--,n.push(a)}e?(r=l(t,e),i(r)):r=[];for(var o=0;o<n.length;o++){var a=n[o];if(0===a.refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete c[a.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],s=o[0],a=o[1],u=o[2],l=o[3],c={id:t+":"+r,css:a,media:u,sourceMap:l};i[s]?i[s].parts.push(c):n.push(i[s]={id:s,parts:[c]})}return n}},function(t,e){t.exports=function(t,e,n,i){var r,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(r=t,o=t.default);var a="function"==typeof o?o.options:o;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),n&&(a._scopeId=n),i){var u=a.computed||(a.computed={});Object.keys(i).forEach(function(t){var e=i[t];u[t]=function(){return e}})}return{esModule:r,exports:o,options:a}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),o=i(r),s=n(10),a=i(s),u=n(15),l=i(u),c=function(){};e.default={name:"carousel3d",components:{Controls:a.default,Slide:l.default},props:{count:{type:[Number,String],default:0},perspective:{type:[Number,String],default:35},display:{type:[Number,String],default:5},loop:{type:Boolean,default:!0},animationSpeed:{type:[Number,String],default:500},dir:{type:String,default:"rtl"},width:{type:[Number,String],default:360},height:{type:[Number,String],default:270},border:{type:[Number,String],default:1},space:{type:[Number,String],default:"auto"},startIndex:{type:[Number,String],default:0},clickable:{type:Boolean,default:!0},disable3d:{type:Boolean,default:!1},minSwipeDistance:{type:Number,default:10},inverseScaling:{type:[Number,String],default:300},controlsVisible:{type:Boolean,default:!1},controlsPrevHtml:{type:String,default:"&lsaquo;"},controlsNextHtml:{type:String,default:"&rsaquo;"},controlsWidth:{type:[String,Number],default:50},controlsHeight:{type:[String,Number],default:50},onLastSlide:{type:Function,default:c},onSlideChange:{type:Function,default:c},bias:{type:String,default:"left"},onMainSlideClick:{type:Function,default:c}},data:function(){return{viewport:0,currentIndex:0,total:0,lock:!1,dragOffset:0,dragStartX:0,mousedown:!1,zIndex:998}},mixins:[o.default],watch:{count:function(){this.computeData()}},computed:{isLastSlide:function(){return this.currentIndex===this.total-1},isFirstSlide:function(){return 0===this.currentIndex},isNextPossible:function(){return!(!this.loop&&this.isLastSlide)},isPrevPossible:function(){return!(!this.loop&&this.isFirstSlide)},slideWidth:function(){var t=this.viewport,e=parseInt(this.width)+2*parseInt(this.border,10);return t<e?t:e},slideHeight:function(){var t=parseInt(this.width,10)+2*parseInt(this.border,10),e=parseInt(parseInt(this.height)+2*this.border,10),n=this.calculateAspectRatio(t,e);return this.slideWidth/n},visible:function(){var t=this.display>this.total?this.total:this.display;return t},hasHiddenSlides:function(){return this.total>this.visible},leftIndices:function(){var t=(this.visible-1)/2;t="left"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t);for(var e=[],n=1;n<=t;n++)e.push("ltr"===this.dir?(this.currentIndex+n)%this.total:(this.currentIndex-n)%this.total);return e},rightIndices:function(){var t=(this.visible-1)/2;t="right"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t);for(var e=[],n=1;n<=t;n++)e.push("ltr"===this.dir?(this.currentIndex-n)%this.total:(this.currentIndex+n)%this.total);return e},leftOutIndex:function(){var t=(this.visible-1)/2;return t="left"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t),t++,"ltr"===this.dir?this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t):this.currentIndex+t:this.currentIndex-t},rightOutIndex:function(){var t=(this.visible-1)/2;return t="right"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t),t++,"ltr"===this.dir?this.currentIndex-t:this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t,10):this.currentIndex+t}},methods:{goNext:function(){this.isNextPossible&&(this.isLastSlide?this.goSlide(0):this.goSlide(this.currentIndex+1))},goPrev:function(){this.isPrevPossible&&(this.isFirstSlide?this.goSlide(this.total-1):this.goSlide(this.currentIndex-1))},goSlide:function(t){var e=this;this.currentIndex=t<0||t>this.total-1?0:t,this.lock=!0,this.isLastSlide&&(this.onLastSlide!==c&&console.warn("onLastSlide deprecated, please use @last-slide"),this.onLastSlide(this.currentIndex),this.$emit("last-slide",this.currentIndex)),this.$emit("before-slide-change",this.currentIndex),setTimeout(function(){return e.animationEnd()},this.animationSpeed)},goFar:function(t){var e=this,n=t===this.total-1&&this.isFirstSlide?-1:t-this.currentIndex;this.isLastSlide&&0===t&&(n=1);for(var i=n<0?-n:n,r=0,o=0;o<i;){o+=1;var s=1===i?0:r;setTimeout(function(){return n<0?e.goPrev(i):e.goNext(i)},s),r+=this.animationSpeed/i}},animationEnd:function(){this.lock=!1,this.onSlideChange!==c&&console.warn("onSlideChange deprecated, please use @after-slide-change"),this.onSlideChange(this.currentIndex),this.$emit("after-slide-change",this.currentIndex)},handleMouseup:function(){this.mousedown=!1,this.dragOffset=0},handleMousedown:function(t){t.touches||t.preventDefault(),this.mousedown=!0,this.dragStartX="ontouchstart"in window?t.touches[0].clientX:t.clientX},handleMousemove:function(t){if(this.mousedown){var e="ontouchstart"in window?t.touches[0].clientX:t.clientX,n=this.dragStartX-e;this.dragOffset=n,this.dragOffset>this.minSwipeDistance?(this.handleMouseup(),this.goNext()):this.dragOffset<-this.minSwipeDistance&&(this.handleMouseup(),this.goPrev())}},attachMutationObserver:function(){var t=this,e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(e){var n={attributes:!0,childList:!0,characterData:!0};this.mutationObserver=new e(function(){t.$nextTick(function(){t.computeData()})}),this.$el&&this.mutationObserver.observe(this.$el,n)}},detachMutationObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},getSlideCount:function(){return void 0!==this.$slots.default?this.$slots.default.filter(function(t){return void 0!==t.tag}).length:0},calculateAspectRatio:function(t,e){return Math.min(t/e)},computeData:function(t){this.total=this.getSlideCount(),(t||this.currentIndex>=this.total)&&(this.currentIndex=parseInt(this.startIndex)>this.total-1?this.total-1:parseInt(this.startIndex)),this.viewport=this.$el.clientWidth},setSize:function(){this.$el.style.cssText+="height:"+this.slideHeight+"px;",this.$el.childNodes[0].style.cssText+="width:"+this.slideWidth+"px; height:"+this.slideHeight+"px;"}},mounted:function(){this.computeData(!0),this.attachMutationObserver(),this.$isServer||(window.addEventListener("resize",this.setSize),"ontouchstart"in window?(this.$el.addEventListener("touchstart",this.handleMousedown),this.$el.addEventListener("touchend",this.handleMouseup),this.$el.addEventListener("touchmove",this.handleMousemove)):(this.$el.addEventListener("mousedown",this.handleMousedown),this.$el.addEventListener("mouseup",this.handleMouseup),this.$el.addEventListener("mousemove",this.handleMousemove)))},beforeDestroy:function(){this.$isServer||(this.detachMutationObserver(),"ontouchstart"in window?this.$el.removeEventListener("touchmove",this.handleMousemove):this.$el.removeEventListener("mousemove",this.handleMousemove),window.removeEventListener("resize",this.setSize))}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={props:{autoplay:{type:Boolean,default:!1},autoplayTimeout:{type:Number,default:2e3},autoplayHoverPause:{type:Boolean,default:!0}},data:function(){return{autoplayInterval:null}},destroyed:function(){this.pauseAutoplay(),this.$isServer||(this.$el.removeEventListener("mouseenter",this.pauseAutoplay),this.$el.removeEventListener("mouseleave",this.startAutoplay))},methods:{pauseAutoplay:function(){this.autoplayInterval&&(this.autoplayInterval=clearInterval(this.autoplayInterval))},startAutoplay:function(){var t=this;this.autoplay&&(this.autoplayInterval=setInterval(function(){"ltr"===t.dir?t.goPrev():t.goNext()},this.autoplayTimeout))}},mounted:function(){!this.$isServer&&this.autoplayHoverPause&&(this.$el.addEventListener("mouseenter",this.pauseAutoplay),this.$el.addEventListener("mouseleave",this.startAutoplay)),this.startAutoplay()}};e.default=n},function(t,e,n){n(11);var i=n(7)(n(13),n(14),"data-v-43e93932",null);t.exports=i.exports},function(t,e,n){var i=n(12);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);n(5)("06c66230",i,!0)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".carousel-3d-controls[data-v-43e93932]{position:absolute;top:50%;height:0;margin-top:-30px;left:0;width:100%;z-index:9099}.next[data-v-43e93932],.prev[data-v-43e93932]{width:60px;position:absolute;z-index:9999;font-size:60px;height:60px;line-height:60px;color:#333;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;top:0}.next[data-v-43e93932]:hover,.prev[data-v-43e93932]:hover{cursor:pointer;opacity:.7}.prev[data-v-43e93932]{left:10px;text-align:left}.next[data-v-43e93932]{right:10px;text-align:right}.disabled[data-v-43e93932],.disabled[data-v-43e93932]:hover{opacity:.2;cursor:default}",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"controls",props:{width:{type:[String,Number],default:50},height:{type:[String,Number],default:60},prevHtml:{type:String,default:"&lsaquo;"},nextHtml:{type:String,default:"&rsaquo;"}},data:function(){return{parent:this.$parent}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel-3d-controls"},[n("a",{staticClass:"prev",class:{disabled:!t.parent.isPrevPossible},style:"width: "+t.width+"px; height: "+t.height+"px; line-height: "+t.height+"px;",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.parent.goPrev()}}},[n("span",{domProps:{innerHTML:t._s(t.prevHtml)}})]),t._v(" "),n("a",{staticClass:"next",class:{disabled:!t.parent.isNextPossible},style:"width: "+t.width+"px; height: "+t.height+"px; line-height: "+t.height+"px;",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.parent.goNext()}}},[n("span",{domProps:{innerHTML:t._s(t.nextHtml)}})])])},staticRenderFns:[]}},function(t,e,n){n(16);var i=n(7)(n(18),n(56),null,null);t.exports=i.exports},function(t,e,n){var i=n(17);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);n(5)("1dbacf8a",i,!0)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".carousel-3d-slide{position:absolute;opacity:0;visibility:hidden;overflow:hidden;top:0;border-radius:1px;border-color:#000;border-color:rgba(0,0,0,.4);border-style:solid;background-size:cover;background-color:#ccc;display:block;margin:0;box-sizing:border-box;text-align:left}.carousel-3d-slide img{width:100%}.carousel-3d-slide.current{opacity:1!important;visibility:visible!important;transform:none!important;z-index:999}",""])},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=i(r);e.default={name:"slide",props:{index:{type:Number}},data:function(){return{parent:this.$parent,styles:{},zIndex:999}},computed:{isCurrent:function(){return this.index===this.parent.currentIndex},slideStyle:function(){var t={};if(!this.isCurrent){var e=this.getSideIndex(this.parent.rightIndices),n=this.getSideIndex(this.parent.leftIndices);(e>=0||n>=0)&&(t=e>=0?this.calculatePosition(e,!0,this.zIndex):this.calculatePosition(n,!1,this.zIndex),t.opacity=1,t.visibility="visible"),this.parent.hasHiddenSlides&&(this.matchIndex(this.parent.leftOutIndex)?t=this.calculatePosition(this.parent.leftIndices.length-1,!1,this.zIndex):this.matchIndex(this.parent.rightOutIndex)&&(t=this.calculatePosition(this.parent.rightIndices.length-1,!0,this.zIndex)))}return(0,o.default)(t,{"border-width":this.parent.border+"px",width:this.parent.slideWidth+"px",height:this.parent.slideHeight+"px",transition:" transform "+this.parent.animationSpeed+"ms,                opacity "+this.parent.animationSpeed+"ms,                visibility "+this.parent.animationSpeed+"ms"})}},methods:{getSideIndex:function(t){var e=this,n=-1;return t.forEach(function(t,i){e.matchIndex(t)&&(n=i)}),n},matchIndex:function(t){return t>=0?this.index===t:this.parent.total+t===this.index},calculatePosition:function(t,e,n){var i=this.parent.disable3d?0:parseInt(this.parent.inverseScaling)+100*(t+1),r=this.parent.disable3d?0:parseInt(this.parent.perspective),o="auto"===this.parent.space?parseInt((t+1)*(this.parent.width/1.5),10):parseInt((t+1)*this.parent.space,10),s=e?"translateX("+o+"px) translateZ(-"+i+"px) rotateY(-"+r+"deg)":"translateX(-"+o+"px) translateZ(-"+i+"px) rotateY("+r+"deg)",a="auto"===this.parent.space?0:parseInt((t+1)*this.parent.space);return{transform:s,top:a,zIndex:n-(Math.abs(t)+1)}},goTo:function(){this.isCurrent?this.parent.onMainSlideClick():this.parent.clickable===!0&&this.parent.goFar(this.index)}}}},function(t,e,n){t.exports={default:n(20),__esModule:!0}},function(t,e,n){n(21),t.exports=n(24).Object.assign},function(t,e,n){var i=n(22);i(i.S+i.F,"Object",{assign:n(37)})},function(t,e,n){var i=n(23),r=n(24),o=n(25),s=n(27),a="prototype",u=function(t,e,n){var l,c,d,h=t&u.F,p=t&u.G,f=t&u.S,v=t&u.P,x=t&u.B,m=t&u.W,g=p?r:r[e]||(r[e]={}),y=g[a],b=p?i:f?i[e]:(i[e]||{})[a];p&&(n=e);for(l in n)c=!h&&b&&void 0!==b[l],c&&l in g||(d=c?b[l]:n[l],g[l]=p&&"function"!=typeof b[l]?n[l]:x&&c?o(d,i):m&&b[l]==d?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[a]=t[a],e}(d):v&&"function"==typeof d?o(Function.call,d):d,v&&((g.virtual||(g.virtual={}))[l]=d,t&u.R&&y&&!y[l]&&s(y,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(26);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(28),r=n(36);t.exports=n(32)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(29),r=n(31),o=n(35),s=Object.defineProperty;e.f=n(32)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(30);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(32)&&!n(33)(function(){return 7!=Object.defineProperty(n(34)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(33)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(30),r=n(23).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(30);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var i=n(38),r=n(53),o=n(54),s=n(55),a=n(42),u=Object.assign;t.exports=!u||n(33)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=s(t),u=arguments.length,l=1,c=r.f,d=o.f;u>l;)for(var h,p=a(arguments[l++]),f=c?i(p).concat(c(p)):i(p),v=f.length,x=0;v>x;)d.call(p,h=f[x++])&&(n[h]=p[h]);return n}:u},function(t,e,n){var i=n(39),r=n(52);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(40),r=n(41),o=n(45)(!1),s=n(49)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),u=0,l=[];for(n in a)n!=s&&i(a,n)&&l.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(42),r=n(44);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(43);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(41),r=n(46),o=n(48);t.exports=function(t){return function(e,n,s){var a,u=i(e),l=r(u.length),c=o(s,l);if(t&&n!=n){for(;l>c;)if(a=u[c++],a!=a)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(47),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(47),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(50)("keys"),r=n(51);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(23),r="__core-js_shared__",o=i[r]||(i[r]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(44);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel-3d-slide",class:{current:t.isCurrent},style:t.slideStyle,on:{click:function(e){t.goTo()}}},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel-3d-container",style:{height:this.slideHeight+"px"}},[n("div",{staticClass:"carousel-3d-slider",style:{width:this.slideWidth+"px",height:this.slideHeight+"px"}},[t._t("default")],2),t._v(" "),t.controlsVisible?n("controls",{attrs:{"next-html":t.controlsNextHtml,"prev-html":t.controlsPrevHtml,width:t.controlsWidth,height:t.controlsHeight}}):t._e()],1)},staticRenderFns:[]}}])});
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJlczYvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYW5pbWF0ZWQtc2Nyb2xsLXRvL2FuaW1hdGVkLXNjcm9sbC10by5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L2xpYi9fZW1wdHkuanMiLCJub2RlX21vZHVsZXMvdnVlLWNhcm91c2VsLTNkL2Rpc3QvdnVlLWNhcm91c2VsLTNkLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDZ0JBOztBQUNBOztBQUNBOzs7Ozs7QUFsQkEsU0FBUyxNQUFULEdBQWtCO0FBQ2pCLFFBQUksU0FBUyxTQUFTLE1BQXRCO0FBQ0EsUUFBSSxPQUFKLEVBQWEsT0FBYjtBQUNBLFFBQUksVUFBVSxFQUFkO0FBQ0EsUUFBSSxPQUFPLE9BQVAsQ0FBZSxHQUFmLEtBQXVCLENBQUMsQ0FBNUIsRUFBK0I7QUFDOUIsWUFBSSxZQUFZLE9BQU8sS0FBUCxDQUFhLEdBQWIsQ0FBaEI7QUFDQSxrQkFBVSxVQUFVLENBQVYsRUFBYSxLQUFiLENBQW1CLEdBQW5CLENBQVY7QUFDQSxhQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksUUFBUSxNQUE1QixFQUFvQyxHQUFwQyxFQUF5QztBQUN2QyxzQkFBVSxRQUFRLENBQVIsRUFBVyxLQUFYLENBQWlCLEdBQWpCLENBQVY7QUFDQSxvQkFBUSxJQUFSLENBQWEsUUFBUSxDQUFSLENBQWI7QUFDQSxvQkFBUSxRQUFRLENBQVIsQ0FBUixJQUFzQixRQUFRLENBQVIsQ0FBdEI7QUFDRDtBQUNEO0FBQ0QsV0FBTyxPQUFQO0FBQ0E7O0FBTUQsSUFBSSxHQUFKLENBQVEseUJBQVI7QUFDQSxJQUFJLEdBQUosQ0FBUTtBQUNKLFFBQUksTUFEQTtBQUVKLFVBQU07QUFDRixvQkFBWSxLQURWO0FBRUYsZ0JBQVEsQ0FDSixFQUFDLEtBQUssaUNBQU4sRUFESSxFQUVKLEVBQUMsS0FBSyxpQ0FBTixFQUZJLEVBR0osRUFBQyxLQUFLLGlDQUFOLEVBSEksQ0FGTjtBQU9GLHVCQUFlLEtBUGI7QUFRRixtQkFBVyxLQVJUO0FBU0YscUJBQWEsS0FUWDtBQVVGLGdCQUFRO0FBVk4sS0FGRjtBQWNKLGdCQUFZO0FBQ1IsNkNBRFE7QUFFUjtBQUZRLEtBZFI7QUFrQkosYUFBUztBQUNMLG9CQURLLDBCQUNVO0FBQ1gsaUJBQUssVUFBTCxHQUFrQixDQUFDLEtBQUssVUFBeEI7QUFDSCxTQUhJO0FBSUwsb0JBSkssMEJBSVU7QUFDWCxrQkFBTSxhQUFOO0FBQ0gsU0FOSTtBQU9MLHNCQVBLLDBCQU9VLElBUFYsRUFPZ0I7QUFDakIsZUFBRyxNQUFILEVBQVcsT0FBWCxFQUFvQixJQUFwQixFQUEwQixPQUExQjtBQUNBLGdCQUFJLFFBQVEsUUFBWjtBQUNBLGdCQUFHLE1BQU0sT0FBTixLQUFnQixNQUFuQixFQUEyQixRQUFRLEdBQVIsQ0FBWSxpQkFBWixFQUE4QixJQUE5QjtBQUM5QixTQVhJO0FBWUwsbUJBWksseUJBWVE7QUFDVCxpQkFBSyxhQUFMLEdBQXFCLENBQUMsS0FBSyxhQUEzQjtBQUNILFNBZEk7QUFlTCxvQkFmSywwQkFlVTtBQUNYLGlCQUFLLFNBQUwsR0FBaUIsQ0FBQyxLQUFLLFNBQXZCO0FBQ0gsU0FqQkk7QUFrQkwsbUJBbEJLLHlCQWtCUztBQUNWLDRDQUFnQixDQUFoQjtBQUNILFNBcEJJO0FBcUJMLGdCQXJCSyxzQkFxQk07QUFDUCxpQkFBSyxNQUFMLEdBQWMsU0FBUyxlQUFULENBQXlCLFNBQXZDO0FBQ0EsZ0JBQUcsS0FBSyxNQUFMLEdBQWMsR0FBakIsRUFBcUI7QUFDakIscUJBQUssV0FBTCxHQUFtQixJQUFuQjtBQUNILGFBRkQsTUFFTTtBQUNGLHFCQUFLLFdBQUwsR0FBbUIsS0FBbkI7QUFDSDtBQUNKO0FBNUJJLEtBbEJMO0FBZ0RKLFdBaERJLHFCQWdETTtBQUNOLFlBQUksSUFBSjtBQUNBLGVBQU8sZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsS0FBSyxRQUF2QztBQUNIO0FBbkRHLENBQVI7OztBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaE9BOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImZ1bmN0aW9uIGdldFVybCgpIHtcblx0dmFyIHN0clVybCA9IGxvY2F0aW9uLnNlYXJjaDtcblx0dmFyIGdldFBhcmEsIFBhcmFWYWw7XG5cdHZhciBhcnlQYXJhID0gW107XG5cdGlmIChzdHJVcmwuaW5kZXhPZihcIj9cIikgIT0gLTEpIHtcblx0XHR2YXIgZ2V0U2VhcmNoID0gc3RyVXJsLnNwbGl0KFwiP1wiKTtcblx0XHRnZXRQYXJhID0gZ2V0U2VhcmNoWzFdLnNwbGl0KFwiJlwiKTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGdldFBhcmEubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0UGFyYVZhbCA9IGdldFBhcmFbaV0uc3BsaXQoXCI9XCIpO1xuXHRcdFx0XHRhcnlQYXJhLnB1c2goUGFyYVZhbFswXSk7XG5cdFx0XHRcdGFyeVBhcmFbUGFyYVZhbFswXV0gPSBQYXJhVmFsWzFdO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gYXJ5UGFyYTtcbn1cblxuaW1wb3J0IHsgQ2Fyb3VzZWwzZCwgU2xpZGUgfSBmcm9tICd2dWUtY2Fyb3VzZWwtM2QnO1xuaW1wb3J0IHsgQ0xJRU5UX1JFTkVHX1dJTkRPVyB9IGZyb20gJ3Rscyc7XG5pbXBvcnQgYW5pbWF0ZVNjcm9sbFRvIGZyb20gJ2FuaW1hdGVkLXNjcm9sbC10byc7XG5cblZ1ZS51c2UoQ2Fyb3VzZWwzZCk7XG5uZXcgVnVlKHtcbiAgICBlbDogJyNhcHAnLFxuICAgIGRhdGE6IHtcbiAgICAgICAgaXNNZW51T3BlbjogZmFsc2UsXG4gICAgICAgIHNsaWRlczogW1xuICAgICAgICAgICAge3NyYzogXCIvaW1hZ2VzL3NpbGRlU2hvdy9zaG93Y2FzZTEucG5nXCJ9LFxuICAgICAgICAgICAge3NyYzogXCIvaW1hZ2VzL3NpbGRlU2hvdy9zaG93Y2FzZTIucG5nXCJ9LFxuICAgICAgICAgICAge3NyYzogXCIvaW1hZ2VzL3NpbGRlU2hvdy9zaG93Y2FzZTMucG5nXCJ9LFxuICAgICAgICBdLFxuICAgICAgICBpc1lvdXR1YmVTaG93OiBmYWxzZSxcbiAgICAgICAgc2hhcmVPcGVuOiBmYWxzZSxcbiAgICAgICAgaXNoZWFkZXJGaXg6IGZhbHNlLFxuICAgICAgICBzY3JvbGw6IDAsXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIENhcm91c2VsM2QsXG4gICAgICAgIFNsaWRlXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICAgIHRvZ2dsZU1lbnVGbigpIHtcbiAgICAgICAgICAgIHRoaXMuaXNNZW51T3BlbiA9ICF0aGlzLmlzTWVudU9wZW47XG4gICAgICAgIH0sXG4gICAgICAgIGNvbWluZ3Nvb25GbigpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiY29taW5nIHNvb25cIik7XG4gICAgICAgIH0sXG4gICAgICAgIGdhU2VlZFBhZ2VWaWV3KG5hbWUpIHtcbiAgICAgICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgbmFtZSwgJ2NsaWNrJywgKTtcbiAgICAgICAgICAgIGxldCBkZWJ1ZyA9IGdldFVybCgpO1xuICAgICAgICAgICAgaWYoZGVidWdbXCJkZWJ1Z1wiXT09XCJ0cnVlXCIpIGNvbnNvbGUubG9nKFwiR0EgUGFnZVZpZXcgLT4gXCIsbmFtZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHlvdXR1YmVTaG93KCl7XG4gICAgICAgICAgICB0aGlzLmlzWW91dHViZVNob3cgPSAhdGhpcy5pc1lvdXR1YmVTaG93O1xuICAgICAgICB9LFxuICAgICAgICBmaXhlZFBvcE9wZW4oKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXJlT3BlbiA9ICF0aGlzLnNoYXJlT3BlbjtcbiAgICAgICAgfSxcbiAgICAgICAgZ290b1BhZ2VUb3AoKSB7XG4gICAgICAgICAgICBhbmltYXRlU2Nyb2xsVG8oMCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNjcm9sbEZuKCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgaWYodGhpcy5zY3JvbGwgPiAxNTApe1xuICAgICAgICAgICAgICAgIHRoaXMuaXNoZWFkZXJGaXggPSB0cnVlO1xuICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNoZWFkZXJGaXggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbW91bnRlZCgpIHsgXG4gICAgICAgIEFPUy5pbml0KCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEZuKTtcbiAgICB9XG59KTsiLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBkZXNpcmVkT2Zmc2V0IC0gcGFnZSBvZmZzZXQgdG8gc2Nyb2xsIHRvXG4gIC8vIHNwZWVkIC0gZHVyYXRpb24gb2YgdGhlIHNjcm9sbCBwZXIgMTAwMHB4XG4gIGZ1bmN0aW9uIF9fQU5JTUFURV9TQ1JPTExfVE8oZGVzaXJlZE9mZnNldCkge1xuICAgIHZhciB1c2VyT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBzcGVlZDogNTAwLFxuICAgICAgbWluRHVyYXRpb246IDI1MCxcbiAgICAgIG1heER1cmF0aW9uOiAxNTAwLFxuICAgICAgY2FuY2VsT25Vc2VyQWN0aW9uOiB0cnVlLFxuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgaG9yaXpvbnRhbDogZmFsc2UsXG4gICAgICBvbkNvbXBsZXRlOiB1bmRlZmluZWQsXG4gICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgb2Zmc2V0OiAwXG4gICAgfTtcblxuICAgIHZhciBvcHRpb25zS2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuXG4gICAgLy8gT3ZlcnJpZGUgZGVmYXVsdCBvcHRpb25zXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IG9wdGlvbnNLZXlzW2ldO1xuXG4gICAgICBpZiAodHlwZW9mIHVzZXJPcHRpb25zW2tleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG9wdGlvbnNba2V5XSA9IHVzZXJPcHRpb25zW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLmNhbmNlbE9uVXNlckFjdGlvbiAmJiBvcHRpb25zLnBhc3NpdmUpIHtcbiAgICAgIG9wdGlvbnMucGFzc2l2ZSA9IGZhbHNlO1xuICAgICAgaWYgKHVzZXJPcHRpb25zLnBhc3NpdmUpIHtcbiAgICAgICAgY29uc29sZSAmJiBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ2FuaW1hdGVkLXNjcm9sbC10bzpcXG4gXCJwYXNzaXZlXCIgd2FzIHNldCB0byBcImZhbHNlXCIgdG8gcHJldmVudCBlcnJvcnMsICcgK1xuICAgICAgICAgICdhcyB1c2luZyBcImNhbmNlbE9uVXNlckFjdGlvbjogZmFsc2VcIiBkb2VzblxcJ3Qgd29yayB3aXRoIHBhc3NpdmUgZXZlbnRzLicpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlc2lyZWRPZmZzZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgaWYgKHVzZXJPcHRpb25zLmVsZW1lbnQgJiYgdXNlck9wdGlvbnMuZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmhvcml6b250YWwpIHtcbiAgICAgICAgICBkZXNpcmVkT2Zmc2V0ID0gKGRlc2lyZWRPZmZzZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIHVzZXJPcHRpb25zLmVsZW1lbnQuc2Nyb2xsTGVmdClcbiAgICAgICAgICAgIC0gdXNlck9wdGlvbnMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlc2lyZWRPZmZzZXQgPSAoZGVzaXJlZE9mZnNldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB1c2VyT3B0aW9ucy5lbGVtZW50LnNjcm9sbFRvcClcbiAgICAgICAgICAgIC0gdXNlck9wdGlvbnMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5ob3Jpem9udGFsKSB7XG4gICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gd2luZG93LnNjcm9sbFggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgIGRlc2lyZWRPZmZzZXQgPSBzY3JvbGxMZWZ0ICsgZGVzaXJlZE9mZnNldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHdpbmRvdy5zY3JvbGxZIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgIGRlc2lyZWRPZmZzZXQgPSBzY3JvbGxUb3AgKyBkZXNpcmVkT2Zmc2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgYWRkaXRvbmFsIHVzZXIgb2Zmc2V0XG4gICAgZGVzaXJlZE9mZnNldCArPSBvcHRpb25zLm9mZnNldFxuXG4gICAgb3B0aW9ucy5pc1dpbmRvdyA9IG9wdGlvbnMuZWxlbWVudCA9PT0gd2luZG93O1xuXG4gICAgdmFyIGluaXRpYWxTY3JvbGxQb3NpdGlvbiA9IG51bGw7XG4gICAgdmFyIGluaXRpYWxBeGlzU2NvbGxQb3NpdGlvbiA9IDA7XG4gICAgdmFyIG1heFNjcm9sbCA9IG51bGw7XG5cbiAgICBpZiAob3B0aW9ucy5pc1dpbmRvdykge1xuICAgICAgaWYgKG9wdGlvbnMuaG9yaXpvbnRhbCkge1xuICAgICAgICAvLyBnZXQgY3Jvc3MgYnJvd3NlciBzY3JvbGwgcG9zaXRpb25zXG4gICAgICAgIGluaXRpYWxTY3JvbGxQb3NpdGlvbiA9IHdpbmRvdy5zY3JvbGxYIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgICAgICBpbml0aWFsQXhpc1Njb2xsUG9zaXRpb24gPSB3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAvLyBjcm9zcyBicm93c2VyIGRvY3VtZW50IGhlaWdodCBtaW51cyB3aW5kb3cgaGVpZ2h0XG4gICAgICAgIG1heFNjcm9sbCA9IE1hdGgubWF4KFxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGgsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCxcbiAgICAgICAgICBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoXG4gICAgICAgICkgLSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGdldCBjcm9zcyBicm93c2VyIHNjcm9sbCBwb3NpdGlvbnNcbiAgICAgICAgaW5pdGlhbFNjcm9sbFBvc2l0aW9uID0gd2luZG93LnNjcm9sbFkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgaW5pdGlhbEF4aXNTY29sbFBvc2l0aW9uID0gd2luZG93LnNjcm9sbFggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgIC8vIGNyb3NzIGJyb3dzZXIgZG9jdW1lbnQgd2lkdGggbWludXMgd2luZG93IHdpZHRoXG4gICAgICAgIG1heFNjcm9sbCA9IE1hdGgubWF4KFxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICAgIGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LFxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgICAgICkgLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERPTSBlbGVtZW50XG4gICAgICBpZiAob3B0aW9ucy5ob3Jpem9udGFsKSB7XG4gICAgICAgIGluaXRpYWxTY3JvbGxQb3NpdGlvbiA9IG9wdGlvbnMuZWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgICAgICBtYXhTY3JvbGwgPSBvcHRpb25zLmVsZW1lbnQuc2Nyb2xsV2lkdGggLSBvcHRpb25zLmVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbml0aWFsU2Nyb2xsUG9zaXRpb24gPSBvcHRpb25zLmVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICBtYXhTY3JvbGwgPSBvcHRpb25zLmVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gb3B0aW9ucy5lbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc2Nyb2xsIHBvc2l0aW9uIGlzIGdyZWF0ZXIgdGhhbiBtYXhpbXVtIGF2YWlsYWJsZSBzY3JvbGxcbiAgICBpZiAoZGVzaXJlZE9mZnNldCA+IG1heFNjcm9sbCkge1xuICAgICAgZGVzaXJlZE9mZnNldCA9IG1heFNjcm9sbDtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgZGlmZiB0byBzY3JvbGxcbiAgICB2YXIgZGlmZiA9IGRlc2lyZWRPZmZzZXQgLSBpbml0aWFsU2Nyb2xsUG9zaXRpb247XG5cbiAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSBwYWdlIGlzIGFscmVhZHkgdGhlcmVcbiAgICBpZiAoZGlmZiA9PT0gMCkge1xuICAgICAgLy8gRXhlY3V0ZSBjYWxsYmFjayBpZiB0aGVyZSBpcyBhbnlcbiAgICAgIGlmIChvcHRpb25zLm9uQ29tcGxldGUgJiYgdHlwZW9mIG9wdGlvbnMub25Db21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvcHRpb25zLm9uQ29tcGxldGUoKVxuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIGR1cmF0aW9uIG9mIHRoZSBzY3JvbGxcbiAgICB2YXIgZHVyYXRpb24gPSBNYXRoLmFicyhNYXRoLnJvdW5kKChkaWZmIC8gMTAwMCkgKiBvcHRpb25zLnNwZWVkKSk7XG5cbiAgICAvLyBTZXQgbWluaW11bSBhbmQgbWF4aW11bSBkdXJhdGlvblxuICAgIGlmIChkdXJhdGlvbiA8IG9wdGlvbnMubWluRHVyYXRpb24pIHtcbiAgICAgIGR1cmF0aW9uID0gb3B0aW9ucy5taW5EdXJhdGlvbjtcbiAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID4gb3B0aW9ucy5tYXhEdXJhdGlvbikge1xuICAgICAgZHVyYXRpb24gPSBvcHRpb25zLm1heER1cmF0aW9uO1xuICAgIH1cblxuICAgIHZhciBzdGFydGluZ1RpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgLy8gUmVxdWVzdCBhbmltYXRpb24gZnJhbWUgSURcbiAgICB2YXIgcmVxdWVzdElEID0gbnVsbDtcblxuICAgIC8vIE1ldGhvZCBoYW5kbGVyXG4gICAgdmFyIGhhbmRsZVVzZXJFdmVudCA9IG51bGw7XG5cbiAgICBpZiAob3B0aW9ucy5jYW5jZWxPblVzZXJBY3Rpb24pIHtcbiAgICAgIC8vIFNldCBoYW5kbGVyIHRvIGNhbmNlbCBzY3JvbGwgb24gdXNlciBhY3Rpb25cbiAgICAgIGhhbmRsZVVzZXJFdmVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVxdWVzdElEKTtcbiAgICAgIH07XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZVVzZXJFdmVudCwgeyBwYXNzaXZlOiBvcHRpb25zLnBhc3NpdmUgfSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlVXNlckV2ZW50LCB7IHBhc3NpdmU6IG9wdGlvbnMucGFzc2l2ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2V0IGhhbmRsZXIgdG8gcHJldmVudCB1c2VyIGFjdGlvbnMgd2hpbGUgc2Nyb2xsIGlzIGFjdGl2ZVxuICAgICAgaGFuZGxlVXNlckV2ZW50ID0gZnVuY3Rpb24oZSkgeyBlLnByZXZlbnREZWZhdWx0KCk7IH07XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlVXNlckV2ZW50LCB7IHBhc3NpdmU6IG9wdGlvbnMucGFzc2l2ZSB9KTtcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBoYW5kbGVVc2VyRXZlbnQsIHsgcGFzc2l2ZTogb3B0aW9ucy5wYXNzaXZlIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlVXNlckV2ZW50LCB7IHBhc3NpdmU6IG9wdGlvbnMucGFzc2l2ZSB9KTtcblxuICAgIHZhciByZW1vdmVMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBoYW5kbGVVc2VyRXZlbnQpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVVc2VyRXZlbnQpO1xuXG4gICAgICBpZiAob3B0aW9ucy5jYW5jZWxPblVzZXJBY3Rpb24pIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVVc2VyRXZlbnQpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlVXNlckV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVVc2VyRXZlbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc3RlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0aW1lRGlmZiA9IERhdGUubm93KCkgLSBzdGFydGluZ1RpbWU7XG4gICAgICB2YXIgdCA9ICh0aW1lRGlmZiAvIGR1cmF0aW9uKSAtIDE7XG4gICAgICB2YXIgZWFzaW5nID0gdCAqIHQgKiB0ICsgMTtcbiAgICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IE1hdGgucm91bmQoaW5pdGlhbFNjcm9sbFBvc2l0aW9uICsgKGRpZmYgKiBlYXNpbmcpKTtcblxuICAgICAgdmFyIGRvU2Nyb2xsID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaXNXaW5kb3cpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5ob3Jpem9udGFsKSB7XG4gICAgICAgICAgICBvcHRpb25zLmVsZW1lbnQuc2Nyb2xsVG8ocG9zaXRpb24sIGluaXRpYWxBeGlzU2NvbGxQb3NpdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZWxlbWVudC5zY3JvbGxUbyhpbml0aWFsQXhpc1Njb2xsUG9zaXRpb24sIHBvc2l0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5ob3Jpem9udGFsKSB7XG4gICAgICAgICAgb3B0aW9ucy5lbGVtZW50LnNjcm9sbExlZnQgPSBwb3NpdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb25zLmVsZW1lbnQuc2Nyb2xsVG9wID0gcG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRpbWVEaWZmIDwgZHVyYXRpb24gJiYgc2Nyb2xsUG9zaXRpb24gIT09IGRlc2lyZWRPZmZzZXQpIHtcbiAgICAgICAgLy8gSWYgc2Nyb2xsIGRpZG4ndCByZWFjaCBkZXNpcmVkIG9mZnNldCBvciB0aW1lIGlzIG5vdCBlbGFwc2VkXG4gICAgICAgIC8vIFNjcm9sbCB0byBhIG5ldyBwb3NpdGlvblxuICAgICAgICAvLyBBbmQgcmVxdWVzdCBhIG5ldyBzdGVwXG4gICAgICAgIGRvU2Nyb2xsKHNjcm9sbFBvc2l0aW9uKTtcblxuICAgICAgICByZXF1ZXN0SUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB0aGUgdGltZSBlbGFwc2VkIG9yIHdlIHJlYWNoZWQgdGhlIGRlc2lyZWQgb2Zmc2V0XG4gICAgICAgIC8vIFNldCBzY3JvbGwgdG8gdGhlIGRlc2lyZWQgb2Zmc2V0ICh3aGVuIHJvdW5kaW5nIG1hZGUgaXQgdG8gYmUgb2ZmIGEgcGl4ZWwgb3IgdHdvKVxuICAgICAgICAvLyBDbGVhciBhbmltYXRpb24gZnJhbWUgdG8gYmUgc3VyZVxuICAgICAgICBkb1Njcm9sbChkZXNpcmVkT2Zmc2V0KTtcblxuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZXF1ZXN0SUQpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBsaXN0ZW5lcnNcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgLy8gQW5pbWF0aW9uIGlzIGNvbXBsZXRlLCBleGVjdXRlIGNhbGxiYWNrIGlmIHRoZXJlIGlzIGFueVxuICAgICAgICBpZiAob3B0aW9ucy5vbkNvbXBsZXRlICYmIHR5cGVvZiBvcHRpb25zLm9uQ29tcGxldGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvcHRpb25zLm9uQ29tcGxldGUoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFN0YXJ0IGFuaW1hdGluZyBzY3JvbGxcbiAgICByZXF1ZXN0SUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IF9fQU5JTUFURV9TQ1JPTExfVE87XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHM7XG4gICAgfVxuICAgIGV4cG9ydHMuZGVmYXVsdCA9IF9fQU5JTUFURV9TQ1JPTExfVE87XG4gIH0gZWxzZSBpZiAod2luZG93KSB7XG4gICAgd2luZG93LmFuaW1hdGVTY3JvbGxUbyA9IF9fQU5JTUFURV9TQ1JPTExfVE87XG4gIH1cbn0pLmNhbGwodGhpcyk7XG4iLCIiLCIvKiFcbiAqIHZ1ZS1jYXJvdXNlbC0zZCB2MC4xLjIwXG4gKiAoYykgMjAxOCBWbGFkaW1pciBCdWphbm92aWNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS93bGFkYS92dWUtY2Fyb3VzZWwtM2QjcmVhZG1lXG4gKi9cbiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQ2Fyb3VzZWwzZD1lKCk6dC5DYXJvdXNlbDNkPWUoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGkpe2lmKG5baV0pcmV0dXJuIG5baV0uZXhwb3J0czt2YXIgcj1uW2ldPXtleHBvcnRzOnt9LGlkOmksbG9hZGVkOiExfTtyZXR1cm4gdFtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxlKSxyLmxvYWRlZD0hMCxyLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD1cIlwiLGUoMCl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5TbGlkZT1lLkNhcm91c2VsM2Q9dm9pZCAwO3ZhciByPW4oMSksbz1pKHIpLHM9bigxNSksYT1pKHMpLHU9ZnVuY3Rpb24odCl7dC5jb21wb25lbnQoXCJjYXJvdXNlbDNkXCIsby5kZWZhdWx0KSx0LmNvbXBvbmVudChcInNsaWRlXCIsYS5kZWZhdWx0KX07ZS5kZWZhdWx0PXtpbnN0YWxsOnV9LGUuQ2Fyb3VzZWwzZD1vLmRlZmF1bHQsZS5TbGlkZT1hLmRlZmF1bHR9LGZ1bmN0aW9uKHQsZSxuKXtuKDIpO3ZhciBpPW4oNykobig4KSxuKDU3KSxcImRhdGEtdi1jMDZjOTYzY1wiLG51bGwpO3QuZXhwb3J0cz1pLmV4cG9ydHN9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDMpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaWQsaSxcIlwiXV0pLGkubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKTtuKDUpKFwiZTc0OWE4YzRcIixpLCEwKX0sZnVuY3Rpb24odCxlLG4pe2U9dC5leHBvcnRzPW4oNCkoKSxlLnB1c2goW3QuaWQsXCIuY2Fyb3VzZWwtM2QtY29udGFpbmVyW2RhdGEtdi1jMDZjOTYzY117bWluLWhlaWdodDoxcHg7d2lkdGg6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OjA7b3ZlcmZsb3c6aGlkZGVuO21hcmdpbjoyMHB4IGF1dG87Ym94LXNpemluZzpib3JkZXItYm94fS5jYXJvdXNlbC0zZC1zbGlkZXJbZGF0YS12LWMwNmM5NjNjXXtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46MCBhdXRvO3RyYW5zZm9ybS1zdHlsZTpwcmVzZXJ2ZS0zZDstd2Via2l0LXBlcnNwZWN0aXZlOjEwMDBweDstbW96LXBlcnNwZWN0aXZlOjEwMDBweDtwZXJzcGVjdGl2ZToxMDAwcHh9XCIsXCJcIl0pfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMubGVuZ3RoO2UrKyl7dmFyIG49dGhpc1tlXTtuWzJdP3QucHVzaChcIkBtZWRpYSBcIituWzJdK1wie1wiK25bMV0rXCJ9XCIpOnQucHVzaChuWzFdKX1yZXR1cm4gdC5qb2luKFwiXCIpfSx0Lmk9ZnVuY3Rpb24oZSxuKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9W1tudWxsLGUsXCJcIl1dKTtmb3IodmFyIGk9e30scj0wO3I8dGhpcy5sZW5ndGg7cisrKXt2YXIgbz10aGlzW3JdWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBvJiYoaVtvXT0hMCl9Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIHM9ZVtyXTtcIm51bWJlclwiPT10eXBlb2Ygc1swXSYmaVtzWzBdXXx8KG4mJiFzWzJdP3NbMl09bjpuJiYoc1syXT1cIihcIitzWzJdK1wiKSBhbmQgKFwiK24rXCIpXCIpLHQucHVzaChzKSl9fSx0fX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGkodCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV0saT1jW24uaWRdO2lmKGkpe2kucmVmcysrO2Zvcih2YXIgcj0wO3I8aS5wYXJ0cy5sZW5ndGg7cisrKWkucGFydHNbcl0obi5wYXJ0c1tyXSk7Zm9yKDtyPG4ucGFydHMubGVuZ3RoO3IrKylpLnBhcnRzLnB1c2gobyhuLnBhcnRzW3JdKSk7aS5wYXJ0cy5sZW5ndGg+bi5wYXJ0cy5sZW5ndGgmJihpLnBhcnRzLmxlbmd0aD1uLnBhcnRzLmxlbmd0aCl9ZWxzZXtmb3IodmFyIHM9W10scj0wO3I8bi5wYXJ0cy5sZW5ndGg7cisrKXMucHVzaChvKG4ucGFydHNbcl0pKTtjW24uaWRdPXtpZDpuLmlkLHJlZnM6MSxwYXJ0czpzfX19fWZ1bmN0aW9uIHIoKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHQudHlwZT1cInRleHQvY3NzXCIsZC5hcHBlbmRDaGlsZCh0KSx0fWZ1bmN0aW9uIG8odCl7dmFyIGUsbixpPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlW2RhdGEtdnVlLXNzci1pZH49XCInK3QuaWQrJ1wiXScpO2lmKGkpe2lmKGYpcmV0dXJuIHY7aS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpfWlmKHgpe3ZhciBvPXArKztpPWh8fChoPXIoKSksZT1zLmJpbmQobnVsbCxpLG8sITEpLG49cy5iaW5kKG51bGwsaSxvLCEwKX1lbHNlIGk9cigpLGU9YS5iaW5kKG51bGwsaSksbj1mdW5jdGlvbigpe2kucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKX07cmV0dXJuIGUodCksZnVuY3Rpb24oaSl7aWYoaSl7aWYoaS5jc3M9PT10LmNzcyYmaS5tZWRpYT09PXQubWVkaWEmJmkuc291cmNlTWFwPT09dC5zb3VyY2VNYXApcmV0dXJuO2UodD1pKX1lbHNlIG4oKX19ZnVuY3Rpb24gcyh0LGUsbixpKXt2YXIgcj1uP1wiXCI6aS5jc3M7aWYodC5zdHlsZVNoZWV0KXQuc3R5bGVTaGVldC5jc3NUZXh0PW0oZSxyKTtlbHNle3ZhciBvPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHIpLHM9dC5jaGlsZE5vZGVzO3NbZV0mJnQucmVtb3ZlQ2hpbGQoc1tlXSkscy5sZW5ndGg/dC5pbnNlcnRCZWZvcmUobyxzW2VdKTp0LmFwcGVuZENoaWxkKG8pfX1mdW5jdGlvbiBhKHQsZSl7dmFyIG49ZS5jc3MsaT1lLm1lZGlhLHI9ZS5zb3VyY2VNYXA7aWYoaSYmdC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLGkpLHImJihuKz1cIlxcbi8qIyBzb3VyY2VVUkw9XCIrci5zb3VyY2VzWzBdK1wiICovXCIsbis9XCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKSkpK1wiICovXCIpLHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1uO2Vsc2V7Zm9yKDt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pKX19dmFyIHU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50LGw9big2KSxjPXt9LGQ9dSYmKGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXSksaD1udWxsLHA9MCxmPSExLHY9ZnVuY3Rpb24oKXt9LHg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL21zaWUgWzYtOV1cXGIvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2Y9bjt2YXIgcj1sKHQsZSk7cmV0dXJuIGkociksZnVuY3Rpb24oZSl7Zm9yKHZhciBuPVtdLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIHM9cltvXSxhPWNbcy5pZF07YS5yZWZzLS0sbi5wdXNoKGEpfWU/KHI9bCh0LGUpLGkocikpOnI9W107Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPW5bb107aWYoMD09PWEucmVmcyl7Zm9yKHZhciB1PTA7dTxhLnBhcnRzLmxlbmd0aDt1KyspYS5wYXJ0c1t1XSgpO2RlbGV0ZSBjW2EuaWRdfX19fTt2YXIgbT1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiB0W2VdPW4sdC5maWx0ZXIoQm9vbGVhbikuam9pbihcIlxcblwiKX19KCl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9e30scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdLHM9b1swXSxhPW9bMV0sdT1vWzJdLGw9b1szXSxjPXtpZDp0K1wiOlwiK3IsY3NzOmEsbWVkaWE6dSxzb3VyY2VNYXA6bH07aVtzXT9pW3NdLnBhcnRzLnB1c2goYyk6bi5wdXNoKGlbc109e2lkOnMscGFydHM6W2NdfSl9cmV0dXJuIG59fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvPXQ9dHx8e30scz10eXBlb2YgdC5kZWZhdWx0O1wib2JqZWN0XCIhPT1zJiZcImZ1bmN0aW9uXCIhPT1zfHwocj10LG89dC5kZWZhdWx0KTt2YXIgYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBvP28ub3B0aW9uczpvO2lmKGUmJihhLnJlbmRlcj1lLnJlbmRlcixhLnN0YXRpY1JlbmRlckZucz1lLnN0YXRpY1JlbmRlckZucyksbiYmKGEuX3Njb3BlSWQ9biksaSl7dmFyIHU9YS5jb21wdXRlZHx8KGEuY29tcHV0ZWQ9e30pO09iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9aVt0XTt1W3RdPWZ1bmN0aW9uKCl7cmV0dXJuIGV9fSl9cmV0dXJue2VzTW9kdWxlOnIsZXhwb3J0czpvLG9wdGlvbnM6YX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9big5KSxvPWkocikscz1uKDEwKSxhPWkocyksdT1uKDE1KSxsPWkodSksYz1mdW5jdGlvbigpe307ZS5kZWZhdWx0PXtuYW1lOlwiY2Fyb3VzZWwzZFwiLGNvbXBvbmVudHM6e0NvbnRyb2xzOmEuZGVmYXVsdCxTbGlkZTpsLmRlZmF1bHR9LHByb3BzOntjb3VudDp7dHlwZTpbTnVtYmVyLFN0cmluZ10sZGVmYXVsdDowfSxwZXJzcGVjdGl2ZTp7dHlwZTpbTnVtYmVyLFN0cmluZ10sZGVmYXVsdDozNX0sZGlzcGxheTp7dHlwZTpbTnVtYmVyLFN0cmluZ10sZGVmYXVsdDo1fSxsb29wOnt0eXBlOkJvb2xlYW4sZGVmYXVsdDohMH0sYW5pbWF0aW9uU3BlZWQ6e3R5cGU6W051bWJlcixTdHJpbmddLGRlZmF1bHQ6NTAwfSxkaXI6e3R5cGU6U3RyaW5nLGRlZmF1bHQ6XCJydGxcIn0sd2lkdGg6e3R5cGU6W051bWJlcixTdHJpbmddLGRlZmF1bHQ6MzYwfSxoZWlnaHQ6e3R5cGU6W051bWJlcixTdHJpbmddLGRlZmF1bHQ6MjcwfSxib3JkZXI6e3R5cGU6W051bWJlcixTdHJpbmddLGRlZmF1bHQ6MX0sc3BhY2U6e3R5cGU6W051bWJlcixTdHJpbmddLGRlZmF1bHQ6XCJhdXRvXCJ9LHN0YXJ0SW5kZXg6e3R5cGU6W051bWJlcixTdHJpbmddLGRlZmF1bHQ6MH0sY2xpY2thYmxlOnt0eXBlOkJvb2xlYW4sZGVmYXVsdDohMH0sZGlzYWJsZTNkOnt0eXBlOkJvb2xlYW4sZGVmYXVsdDohMX0sbWluU3dpcGVEaXN0YW5jZTp7dHlwZTpOdW1iZXIsZGVmYXVsdDoxMH0saW52ZXJzZVNjYWxpbmc6e3R5cGU6W051bWJlcixTdHJpbmddLGRlZmF1bHQ6MzAwfSxjb250cm9sc1Zpc2libGU6e3R5cGU6Qm9vbGVhbixkZWZhdWx0OiExfSxjb250cm9sc1ByZXZIdG1sOnt0eXBlOlN0cmluZyxkZWZhdWx0OlwiJmxzYXF1bztcIn0sY29udHJvbHNOZXh0SHRtbDp7dHlwZTpTdHJpbmcsZGVmYXVsdDpcIiZyc2FxdW87XCJ9LGNvbnRyb2xzV2lkdGg6e3R5cGU6W1N0cmluZyxOdW1iZXJdLGRlZmF1bHQ6NTB9LGNvbnRyb2xzSGVpZ2h0Ont0eXBlOltTdHJpbmcsTnVtYmVyXSxkZWZhdWx0OjUwfSxvbkxhc3RTbGlkZTp7dHlwZTpGdW5jdGlvbixkZWZhdWx0OmN9LG9uU2xpZGVDaGFuZ2U6e3R5cGU6RnVuY3Rpb24sZGVmYXVsdDpjfSxiaWFzOnt0eXBlOlN0cmluZyxkZWZhdWx0OlwibGVmdFwifSxvbk1haW5TbGlkZUNsaWNrOnt0eXBlOkZ1bmN0aW9uLGRlZmF1bHQ6Y319LGRhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dmlld3BvcnQ6MCxjdXJyZW50SW5kZXg6MCx0b3RhbDowLGxvY2s6ITEsZHJhZ09mZnNldDowLGRyYWdTdGFydFg6MCxtb3VzZWRvd246ITEsekluZGV4Ojk5OH19LG1peGluczpbby5kZWZhdWx0XSx3YXRjaDp7Y291bnQ6ZnVuY3Rpb24oKXt0aGlzLmNvbXB1dGVEYXRhKCl9fSxjb21wdXRlZDp7aXNMYXN0U2xpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50SW5kZXg9PT10aGlzLnRvdGFsLTF9LGlzRmlyc3RTbGlkZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5jdXJyZW50SW5kZXh9LGlzTmV4dFBvc3NpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy5sb29wJiZ0aGlzLmlzTGFzdFNsaWRlKX0saXNQcmV2UG9zc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLmxvb3AmJnRoaXMuaXNGaXJzdFNsaWRlKX0sc2xpZGVXaWR0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMudmlld3BvcnQsZT1wYXJzZUludCh0aGlzLndpZHRoKSsyKnBhcnNlSW50KHRoaXMuYm9yZGVyLDEwKTtyZXR1cm4gdDxlP3Q6ZX0sc2xpZGVIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgdD1wYXJzZUludCh0aGlzLndpZHRoLDEwKSsyKnBhcnNlSW50KHRoaXMuYm9yZGVyLDEwKSxlPXBhcnNlSW50KHBhcnNlSW50KHRoaXMuaGVpZ2h0KSsyKnRoaXMuYm9yZGVyLDEwKSxuPXRoaXMuY2FsY3VsYXRlQXNwZWN0UmF0aW8odCxlKTtyZXR1cm4gdGhpcy5zbGlkZVdpZHRoL259LHZpc2libGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRpc3BsYXk+dGhpcy50b3RhbD90aGlzLnRvdGFsOnRoaXMuZGlzcGxheTtyZXR1cm4gdH0saGFzSGlkZGVuU2xpZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG90YWw+dGhpcy52aXNpYmxlfSxsZWZ0SW5kaWNlczpmdW5jdGlvbigpe3ZhciB0PSh0aGlzLnZpc2libGUtMSkvMjt0PVwibGVmdFwiPT09dGhpcy5iaWFzLnRvTG93ZXJDYXNlKCk/TWF0aC5jZWlsKHQpOk1hdGguZmxvb3IodCk7Zm9yKHZhciBlPVtdLG49MTtuPD10O24rKyllLnB1c2goXCJsdHJcIj09PXRoaXMuZGlyPyh0aGlzLmN1cnJlbnRJbmRleCtuKSV0aGlzLnRvdGFsOih0aGlzLmN1cnJlbnRJbmRleC1uKSV0aGlzLnRvdGFsKTtyZXR1cm4gZX0scmlnaHRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIHQ9KHRoaXMudmlzaWJsZS0xKS8yO3Q9XCJyaWdodFwiPT09dGhpcy5iaWFzLnRvTG93ZXJDYXNlKCk/TWF0aC5jZWlsKHQpOk1hdGguZmxvb3IodCk7Zm9yKHZhciBlPVtdLG49MTtuPD10O24rKyllLnB1c2goXCJsdHJcIj09PXRoaXMuZGlyPyh0aGlzLmN1cnJlbnRJbmRleC1uKSV0aGlzLnRvdGFsOih0aGlzLmN1cnJlbnRJbmRleCtuKSV0aGlzLnRvdGFsKTtyZXR1cm4gZX0sbGVmdE91dEluZGV4OmZ1bmN0aW9uKCl7dmFyIHQ9KHRoaXMudmlzaWJsZS0xKS8yO3JldHVybiB0PVwibGVmdFwiPT09dGhpcy5iaWFzLnRvTG93ZXJDYXNlKCk/TWF0aC5jZWlsKHQpOk1hdGguZmxvb3IodCksdCsrLFwibHRyXCI9PT10aGlzLmRpcj90aGlzLnRvdGFsLXRoaXMuY3VycmVudEluZGV4LXQ8PTA/LXBhcnNlSW50KHRoaXMudG90YWwtdGhpcy5jdXJyZW50SW5kZXgtdCk6dGhpcy5jdXJyZW50SW5kZXgrdDp0aGlzLmN1cnJlbnRJbmRleC10fSxyaWdodE91dEluZGV4OmZ1bmN0aW9uKCl7dmFyIHQ9KHRoaXMudmlzaWJsZS0xKS8yO3JldHVybiB0PVwicmlnaHRcIj09PXRoaXMuYmlhcy50b0xvd2VyQ2FzZSgpP01hdGguY2VpbCh0KTpNYXRoLmZsb29yKHQpLHQrKyxcImx0clwiPT09dGhpcy5kaXI/dGhpcy5jdXJyZW50SW5kZXgtdDp0aGlzLnRvdGFsLXRoaXMuY3VycmVudEluZGV4LXQ8PTA/LXBhcnNlSW50KHRoaXMudG90YWwtdGhpcy5jdXJyZW50SW5kZXgtdCwxMCk6dGhpcy5jdXJyZW50SW5kZXgrdH19LG1ldGhvZHM6e2dvTmV4dDpmdW5jdGlvbigpe3RoaXMuaXNOZXh0UG9zc2libGUmJih0aGlzLmlzTGFzdFNsaWRlP3RoaXMuZ29TbGlkZSgwKTp0aGlzLmdvU2xpZGUodGhpcy5jdXJyZW50SW5kZXgrMSkpfSxnb1ByZXY6ZnVuY3Rpb24oKXt0aGlzLmlzUHJldlBvc3NpYmxlJiYodGhpcy5pc0ZpcnN0U2xpZGU/dGhpcy5nb1NsaWRlKHRoaXMudG90YWwtMSk6dGhpcy5nb1NsaWRlKHRoaXMuY3VycmVudEluZGV4LTEpKX0sZ29TbGlkZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuY3VycmVudEluZGV4PXQ8MHx8dD50aGlzLnRvdGFsLTE/MDp0LHRoaXMubG9jaz0hMCx0aGlzLmlzTGFzdFNsaWRlJiYodGhpcy5vbkxhc3RTbGlkZSE9PWMmJmNvbnNvbGUud2FybihcIm9uTGFzdFNsaWRlIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgQGxhc3Qtc2xpZGVcIiksdGhpcy5vbkxhc3RTbGlkZSh0aGlzLmN1cnJlbnRJbmRleCksdGhpcy4kZW1pdChcImxhc3Qtc2xpZGVcIix0aGlzLmN1cnJlbnRJbmRleCkpLHRoaXMuJGVtaXQoXCJiZWZvcmUtc2xpZGUtY2hhbmdlXCIsdGhpcy5jdXJyZW50SW5kZXgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZS5hbmltYXRpb25FbmQoKX0sdGhpcy5hbmltYXRpb25TcGVlZCl9LGdvRmFyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10PT09dGhpcy50b3RhbC0xJiZ0aGlzLmlzRmlyc3RTbGlkZT8tMTp0LXRoaXMuY3VycmVudEluZGV4O3RoaXMuaXNMYXN0U2xpZGUmJjA9PT10JiYobj0xKTtmb3IodmFyIGk9bjwwPy1uOm4scj0wLG89MDtvPGk7KXtvKz0xO3ZhciBzPTE9PT1pPzA6cjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG48MD9lLmdvUHJldihpKTplLmdvTmV4dChpKX0scykscis9dGhpcy5hbmltYXRpb25TcGVlZC9pfX0sYW5pbWF0aW9uRW5kOmZ1bmN0aW9uKCl7dGhpcy5sb2NrPSExLHRoaXMub25TbGlkZUNoYW5nZSE9PWMmJmNvbnNvbGUud2FybihcIm9uU2xpZGVDaGFuZ2UgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBAYWZ0ZXItc2xpZGUtY2hhbmdlXCIpLHRoaXMub25TbGlkZUNoYW5nZSh0aGlzLmN1cnJlbnRJbmRleCksdGhpcy4kZW1pdChcImFmdGVyLXNsaWRlLWNoYW5nZVwiLHRoaXMuY3VycmVudEluZGV4KX0saGFuZGxlTW91c2V1cDpmdW5jdGlvbigpe3RoaXMubW91c2Vkb3duPSExLHRoaXMuZHJhZ09mZnNldD0wfSxoYW5kbGVNb3VzZWRvd246ZnVuY3Rpb24odCl7dC50b3VjaGVzfHx0LnByZXZlbnREZWZhdWx0KCksdGhpcy5tb3VzZWRvd249ITAsdGhpcy5kcmFnU3RhcnRYPVwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3c/dC50b3VjaGVzWzBdLmNsaWVudFg6dC5jbGllbnRYfSxoYW5kbGVNb3VzZW1vdmU6ZnVuY3Rpb24odCl7aWYodGhpcy5tb3VzZWRvd24pe3ZhciBlPVwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3c/dC50b3VjaGVzWzBdLmNsaWVudFg6dC5jbGllbnRYLG49dGhpcy5kcmFnU3RhcnRYLWU7dGhpcy5kcmFnT2Zmc2V0PW4sdGhpcy5kcmFnT2Zmc2V0PnRoaXMubWluU3dpcGVEaXN0YW5jZT8odGhpcy5oYW5kbGVNb3VzZXVwKCksdGhpcy5nb05leHQoKSk6dGhpcy5kcmFnT2Zmc2V0PC10aGlzLm1pblN3aXBlRGlzdGFuY2UmJih0aGlzLmhhbmRsZU1vdXNldXAoKSx0aGlzLmdvUHJldigpKX19LGF0dGFjaE11dGF0aW9uT2JzZXJ2ZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjtpZihlKXt2YXIgbj17YXR0cmlidXRlczohMCxjaGlsZExpc3Q6ITAsY2hhcmFjdGVyRGF0YTohMH07dGhpcy5tdXRhdGlvbk9ic2VydmVyPW5ldyBlKGZ1bmN0aW9uKCl7dC4kbmV4dFRpY2soZnVuY3Rpb24oKXt0LmNvbXB1dGVEYXRhKCl9KX0pLHRoaXMuJGVsJiZ0aGlzLm11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLiRlbCxuKX19LGRldGFjaE11dGF0aW9uT2JzZXJ2ZXI6ZnVuY3Rpb24oKXt0aGlzLm11dGF0aW9uT2JzZXJ2ZXImJnRoaXMubXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCl9LGdldFNsaWRlQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy4kc2xvdHMuZGVmYXVsdD90aGlzLiRzbG90cy5kZWZhdWx0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dC50YWd9KS5sZW5ndGg6MH0sY2FsY3VsYXRlQXNwZWN0UmF0aW86ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5taW4odC9lKX0sY29tcHV0ZURhdGE6ZnVuY3Rpb24odCl7dGhpcy50b3RhbD10aGlzLmdldFNsaWRlQ291bnQoKSwodHx8dGhpcy5jdXJyZW50SW5kZXg+PXRoaXMudG90YWwpJiYodGhpcy5jdXJyZW50SW5kZXg9cGFyc2VJbnQodGhpcy5zdGFydEluZGV4KT50aGlzLnRvdGFsLTE/dGhpcy50b3RhbC0xOnBhcnNlSW50KHRoaXMuc3RhcnRJbmRleCkpLHRoaXMudmlld3BvcnQ9dGhpcy4kZWwuY2xpZW50V2lkdGh9LHNldFNpemU6ZnVuY3Rpb24oKXt0aGlzLiRlbC5zdHlsZS5jc3NUZXh0Kz1cImhlaWdodDpcIit0aGlzLnNsaWRlSGVpZ2h0K1wicHg7XCIsdGhpcy4kZWwuY2hpbGROb2Rlc1swXS5zdHlsZS5jc3NUZXh0Kz1cIndpZHRoOlwiK3RoaXMuc2xpZGVXaWR0aCtcInB4OyBoZWlnaHQ6XCIrdGhpcy5zbGlkZUhlaWdodCtcInB4O1wifX0sbW91bnRlZDpmdW5jdGlvbigpe3RoaXMuY29tcHV0ZURhdGEoITApLHRoaXMuYXR0YWNoTXV0YXRpb25PYnNlcnZlcigpLHRoaXMuJGlzU2VydmVyfHwod2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLnNldFNpemUpLFwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3c/KHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5oYW5kbGVNb3VzZWRvd24pLHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuaGFuZGxlTW91c2V1cCksdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuaGFuZGxlTW91c2Vtb3ZlKSk6KHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLmhhbmRsZU1vdXNlZG93biksdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmhhbmRsZU1vdXNldXApLHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLmhhbmRsZU1vdXNlbW92ZSkpKX0sYmVmb3JlRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuJGlzU2VydmVyfHwodGhpcy5kZXRhY2hNdXRhdGlvbk9ic2VydmVyKCksXCJvbnRvdWNoc3RhcnRcImluIHdpbmRvdz90aGlzLiRlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5oYW5kbGVNb3VzZW1vdmUpOnRoaXMuJGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLmhhbmRsZU1vdXNlbW92ZSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLnNldFNpemUpKX19fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXtwcm9wczp7YXV0b3BsYXk6e3R5cGU6Qm9vbGVhbixkZWZhdWx0OiExfSxhdXRvcGxheVRpbWVvdXQ6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6MmUzfSxhdXRvcGxheUhvdmVyUGF1c2U6e3R5cGU6Qm9vbGVhbixkZWZhdWx0OiEwfX0sZGF0YTpmdW5jdGlvbigpe3JldHVybnthdXRvcGxheUludGVydmFsOm51bGx9fSxkZXN0cm95ZWQ6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlQXV0b3BsYXkoKSx0aGlzLiRpc1NlcnZlcnx8KHRoaXMuJGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsdGhpcy5wYXVzZUF1dG9wbGF5KSx0aGlzLiRlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHRoaXMuc3RhcnRBdXRvcGxheSkpfSxtZXRob2RzOntwYXVzZUF1dG9wbGF5OmZ1bmN0aW9uKCl7dGhpcy5hdXRvcGxheUludGVydmFsJiYodGhpcy5hdXRvcGxheUludGVydmFsPWNsZWFySW50ZXJ2YWwodGhpcy5hdXRvcGxheUludGVydmFsKSl9LHN0YXJ0QXV0b3BsYXk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuYXV0b3BsYXkmJih0aGlzLmF1dG9wbGF5SW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcImx0clwiPT09dC5kaXI/dC5nb1ByZXYoKTp0LmdvTmV4dCgpfSx0aGlzLmF1dG9wbGF5VGltZW91dCkpfX0sbW91bnRlZDpmdW5jdGlvbigpeyF0aGlzLiRpc1NlcnZlciYmdGhpcy5hdXRvcGxheUhvdmVyUGF1c2UmJih0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLHRoaXMucGF1c2VBdXRvcGxheSksdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIix0aGlzLnN0YXJ0QXV0b3BsYXkpKSx0aGlzLnN0YXJ0QXV0b3BsYXkoKX19O2UuZGVmYXVsdD1ufSxmdW5jdGlvbih0LGUsbil7bigxMSk7dmFyIGk9big3KShuKDEzKSxuKDE0KSxcImRhdGEtdi00M2U5MzkzMlwiLG51bGwpO3QuZXhwb3J0cz1pLmV4cG9ydHN9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDEyKTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmlkLGksXCJcIl1dKSxpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyk7big1KShcIjA2YzY2MjMwXCIsaSwhMCl9LGZ1bmN0aW9uKHQsZSxuKXtlPXQuZXhwb3J0cz1uKDQpKCksZS5wdXNoKFt0LmlkLFwiLmNhcm91c2VsLTNkLWNvbnRyb2xzW2RhdGEtdi00M2U5MzkzMl17cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtoZWlnaHQ6MDttYXJnaW4tdG9wOi0zMHB4O2xlZnQ6MDt3aWR0aDoxMDAlO3otaW5kZXg6OTA5OX0ubmV4dFtkYXRhLXYtNDNlOTM5MzJdLC5wcmV2W2RhdGEtdi00M2U5MzkzMl17d2lkdGg6NjBweDtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4Ojk5OTk7Zm9udC1zaXplOjYwcHg7aGVpZ2h0OjYwcHg7bGluZS1oZWlnaHQ6NjBweDtjb2xvcjojMzMzOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt0ZXh0LWRlY29yYXRpb246bm9uZTt0b3A6MH0ubmV4dFtkYXRhLXYtNDNlOTM5MzJdOmhvdmVyLC5wcmV2W2RhdGEtdi00M2U5MzkzMl06aG92ZXJ7Y3Vyc29yOnBvaW50ZXI7b3BhY2l0eTouN30ucHJldltkYXRhLXYtNDNlOTM5MzJde2xlZnQ6MTBweDt0ZXh0LWFsaWduOmxlZnR9Lm5leHRbZGF0YS12LTQzZTkzOTMyXXtyaWdodDoxMHB4O3RleHQtYWxpZ246cmlnaHR9LmRpc2FibGVkW2RhdGEtdi00M2U5MzkzMl0sLmRpc2FibGVkW2RhdGEtdi00M2U5MzkzMl06aG92ZXJ7b3BhY2l0eTouMjtjdXJzb3I6ZGVmYXVsdH1cIixcIlwiXSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5kZWZhdWx0PXtuYW1lOlwiY29udHJvbHNcIixwcm9wczp7d2lkdGg6e3R5cGU6W1N0cmluZyxOdW1iZXJdLGRlZmF1bHQ6NTB9LGhlaWdodDp7dHlwZTpbU3RyaW5nLE51bWJlcl0sZGVmYXVsdDo2MH0scHJldkh0bWw6e3R5cGU6U3RyaW5nLGRlZmF1bHQ6XCImbHNhcXVvO1wifSxuZXh0SHRtbDp7dHlwZTpTdHJpbmcsZGVmYXVsdDpcIiZyc2FxdW87XCJ9fSxkYXRhOmZ1bmN0aW9uKCl7cmV0dXJue3BhcmVudDp0aGlzLiRwYXJlbnR9fX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC4kY3JlYXRlRWxlbWVudCxuPXQuX3NlbGYuX2N8fGU7cmV0dXJuIG4oXCJkaXZcIix7c3RhdGljQ2xhc3M6XCJjYXJvdXNlbC0zZC1jb250cm9sc1wifSxbbihcImFcIix7c3RhdGljQ2xhc3M6XCJwcmV2XCIsY2xhc3M6e2Rpc2FibGVkOiF0LnBhcmVudC5pc1ByZXZQb3NzaWJsZX0sc3R5bGU6XCJ3aWR0aDogXCIrdC53aWR0aCtcInB4OyBoZWlnaHQ6IFwiK3QuaGVpZ2h0K1wicHg7IGxpbmUtaGVpZ2h0OiBcIit0LmhlaWdodCtcInB4O1wiLGF0dHJzOntocmVmOlwiI1wifSxvbjp7Y2xpY2s6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHQucGFyZW50LmdvUHJldigpfX19LFtuKFwic3BhblwiLHtkb21Qcm9wczp7aW5uZXJIVE1MOnQuX3ModC5wcmV2SHRtbCl9fSldKSx0Ll92KFwiIFwiKSxuKFwiYVwiLHtzdGF0aWNDbGFzczpcIm5leHRcIixjbGFzczp7ZGlzYWJsZWQ6IXQucGFyZW50LmlzTmV4dFBvc3NpYmxlfSxzdHlsZTpcIndpZHRoOiBcIit0LndpZHRoK1wicHg7IGhlaWdodDogXCIrdC5oZWlnaHQrXCJweDsgbGluZS1oZWlnaHQ6IFwiK3QuaGVpZ2h0K1wicHg7XCIsYXR0cnM6e2hyZWY6XCIjXCJ9LG9uOntjbGljazpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdC5wYXJlbnQuZ29OZXh0KCl9fX0sW24oXCJzcGFuXCIse2RvbVByb3BzOntpbm5lckhUTUw6dC5fcyh0Lm5leHRIdG1sKX19KV0pXSl9LHN0YXRpY1JlbmRlckZuczpbXX19LGZ1bmN0aW9uKHQsZSxuKXtuKDE2KTt2YXIgaT1uKDcpKG4oMTgpLG4oNTYpLG51bGwsbnVsbCk7dC5leHBvcnRzPWkuZXhwb3J0c30sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTcpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaWQsaSxcIlwiXV0pLGkubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKTtuKDUpKFwiMWRiYWNmOGFcIixpLCEwKX0sZnVuY3Rpb24odCxlLG4pe2U9dC5leHBvcnRzPW4oNCkoKSxlLnB1c2goW3QuaWQsXCIuY2Fyb3VzZWwtM2Qtc2xpZGV7cG9zaXRpb246YWJzb2x1dGU7b3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVuO292ZXJmbG93OmhpZGRlbjt0b3A6MDtib3JkZXItcmFkaXVzOjFweDtib3JkZXItY29sb3I6IzAwMDtib3JkZXItY29sb3I6cmdiYSgwLDAsMCwuNCk7Ym9yZGVyLXN0eWxlOnNvbGlkO2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLWNvbG9yOiNjY2M7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3gtc2l6aW5nOmJvcmRlci1ib3g7dGV4dC1hbGlnbjpsZWZ0fS5jYXJvdXNlbC0zZC1zbGlkZSBpbWd7d2lkdGg6MTAwJX0uY2Fyb3VzZWwtM2Qtc2xpZGUuY3VycmVudHtvcGFjaXR5OjEhaW1wb3J0YW50O3Zpc2liaWxpdHk6dmlzaWJsZSFpbXBvcnRhbnQ7dHJhbnNmb3JtOm5vbmUhaW1wb3J0YW50O3otaW5kZXg6OTk5fVwiLFwiXCJdKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPW4oMTkpLG89aShyKTtlLmRlZmF1bHQ9e25hbWU6XCJzbGlkZVwiLHByb3BzOntpbmRleDp7dHlwZTpOdW1iZXJ9fSxkYXRhOmZ1bmN0aW9uKCl7cmV0dXJue3BhcmVudDp0aGlzLiRwYXJlbnQsc3R5bGVzOnt9LHpJbmRleDo5OTl9fSxjb21wdXRlZDp7aXNDdXJyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXg9PT10aGlzLnBhcmVudC5jdXJyZW50SW5kZXh9LHNsaWRlU3R5bGU6ZnVuY3Rpb24oKXt2YXIgdD17fTtpZighdGhpcy5pc0N1cnJlbnQpe3ZhciBlPXRoaXMuZ2V0U2lkZUluZGV4KHRoaXMucGFyZW50LnJpZ2h0SW5kaWNlcyksbj10aGlzLmdldFNpZGVJbmRleCh0aGlzLnBhcmVudC5sZWZ0SW5kaWNlcyk7KGU+PTB8fG4+PTApJiYodD1lPj0wP3RoaXMuY2FsY3VsYXRlUG9zaXRpb24oZSwhMCx0aGlzLnpJbmRleCk6dGhpcy5jYWxjdWxhdGVQb3NpdGlvbihuLCExLHRoaXMuekluZGV4KSx0Lm9wYWNpdHk9MSx0LnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIpLHRoaXMucGFyZW50Lmhhc0hpZGRlblNsaWRlcyYmKHRoaXMubWF0Y2hJbmRleCh0aGlzLnBhcmVudC5sZWZ0T3V0SW5kZXgpP3Q9dGhpcy5jYWxjdWxhdGVQb3NpdGlvbih0aGlzLnBhcmVudC5sZWZ0SW5kaWNlcy5sZW5ndGgtMSwhMSx0aGlzLnpJbmRleCk6dGhpcy5tYXRjaEluZGV4KHRoaXMucGFyZW50LnJpZ2h0T3V0SW5kZXgpJiYodD10aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKHRoaXMucGFyZW50LnJpZ2h0SW5kaWNlcy5sZW5ndGgtMSwhMCx0aGlzLnpJbmRleCkpKX1yZXR1cm4oMCxvLmRlZmF1bHQpKHQse1wiYm9yZGVyLXdpZHRoXCI6dGhpcy5wYXJlbnQuYm9yZGVyK1wicHhcIix3aWR0aDp0aGlzLnBhcmVudC5zbGlkZVdpZHRoK1wicHhcIixoZWlnaHQ6dGhpcy5wYXJlbnQuc2xpZGVIZWlnaHQrXCJweFwiLHRyYW5zaXRpb246XCIgdHJhbnNmb3JtIFwiK3RoaXMucGFyZW50LmFuaW1hdGlvblNwZWVkK1wibXMsICAgICAgICAgICAgICAgIG9wYWNpdHkgXCIrdGhpcy5wYXJlbnQuYW5pbWF0aW9uU3BlZWQrXCJtcywgICAgICAgICAgICAgICAgdmlzaWJpbGl0eSBcIit0aGlzLnBhcmVudC5hbmltYXRpb25TcGVlZCtcIm1zXCJ9KX19LG1ldGhvZHM6e2dldFNpZGVJbmRleDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49LTE7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0LGkpe2UubWF0Y2hJbmRleCh0KSYmKG49aSl9KSxufSxtYXRjaEluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0wP3RoaXMuaW5kZXg9PT10OnRoaXMucGFyZW50LnRvdGFsK3Q9PT10aGlzLmluZGV4fSxjYWxjdWxhdGVQb3NpdGlvbjpmdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5wYXJlbnQuZGlzYWJsZTNkPzA6cGFyc2VJbnQodGhpcy5wYXJlbnQuaW52ZXJzZVNjYWxpbmcpKzEwMCoodCsxKSxyPXRoaXMucGFyZW50LmRpc2FibGUzZD8wOnBhcnNlSW50KHRoaXMucGFyZW50LnBlcnNwZWN0aXZlKSxvPVwiYXV0b1wiPT09dGhpcy5wYXJlbnQuc3BhY2U/cGFyc2VJbnQoKHQrMSkqKHRoaXMucGFyZW50LndpZHRoLzEuNSksMTApOnBhcnNlSW50KCh0KzEpKnRoaXMucGFyZW50LnNwYWNlLDEwKSxzPWU/XCJ0cmFuc2xhdGVYKFwiK28rXCJweCkgdHJhbnNsYXRlWigtXCIraStcInB4KSByb3RhdGVZKC1cIityK1wiZGVnKVwiOlwidHJhbnNsYXRlWCgtXCIrbytcInB4KSB0cmFuc2xhdGVaKC1cIitpK1wicHgpIHJvdGF0ZVkoXCIrcitcImRlZylcIixhPVwiYXV0b1wiPT09dGhpcy5wYXJlbnQuc3BhY2U/MDpwYXJzZUludCgodCsxKSp0aGlzLnBhcmVudC5zcGFjZSk7cmV0dXJue3RyYW5zZm9ybTpzLHRvcDphLHpJbmRleDpuLShNYXRoLmFicyh0KSsxKX19LGdvVG86ZnVuY3Rpb24oKXt0aGlzLmlzQ3VycmVudD90aGlzLnBhcmVudC5vbk1haW5TbGlkZUNsaWNrKCk6dGhpcy5wYXJlbnQuY2xpY2thYmxlPT09ITAmJnRoaXMucGFyZW50LmdvRmFyKHRoaXMuaW5kZXgpfX19fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtkZWZhdWx0Om4oMjApLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7bigyMSksdC5leHBvcnRzPW4oMjQpLk9iamVjdC5hc3NpZ259LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDIyKTtpKGkuUytpLkYsXCJPYmplY3RcIix7YXNzaWduOm4oMzcpfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDIzKSxyPW4oMjQpLG89bigyNSkscz1uKDI3KSxhPVwicHJvdG90eXBlXCIsdT1mdW5jdGlvbih0LGUsbil7dmFyIGwsYyxkLGg9dCZ1LkYscD10JnUuRyxmPXQmdS5TLHY9dCZ1LlAseD10JnUuQixtPXQmdS5XLGc9cD9yOnJbZV18fChyW2VdPXt9KSx5PWdbYV0sYj1wP2k6Zj9pW2VdOihpW2VdfHx7fSlbYV07cCYmKG49ZSk7Zm9yKGwgaW4gbiljPSFoJiZiJiZ2b2lkIDAhPT1iW2xdLGMmJmwgaW4gZ3x8KGQ9Yz9iW2xdOm5bbF0sZ1tsXT1wJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBiW2xdP25bbF06eCYmYz9vKGQsaSk6bSYmYltsXT09ZD9mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlLG4saSl7aWYodGhpcyBpbnN0YW5jZW9mIHQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZSk7Y2FzZSAyOnJldHVybiBuZXcgdChlLG4pfXJldHVybiBuZXcgdChlLG4saSl9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZVthXT10W2FdLGV9KGQpOnYmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGQ/byhGdW5jdGlvbi5jYWxsLGQpOmQsdiYmKChnLnZpcnR1YWx8fChnLnZpcnR1YWw9e30pKVtsXT1kLHQmdS5SJiZ5JiYheVtsXSYmcyh5LGwsZCkpKX07dS5GPTEsdS5HPTIsdS5TPTQsdS5QPTgsdS5CPTE2LHUuVz0zMix1LlU9NjQsdS5SPTEyOCx0LmV4cG9ydHM9dX0sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XCJudW1iZXJcIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246XCIyLjQuMFwifTtcIm51bWJlclwiPT10eXBlb2YgX19lJiYoX19lPW4pfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigyNik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZihpKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKG4pe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4saSl7cmV0dXJuIHQuY2FsbChlLG4saSl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixpLHIpe3JldHVybiB0LmNhbGwoZSxuLGkscil9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIGZ1bmN0aW9uIVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDI4KSxyPW4oMzYpO3QuZXhwb3J0cz1uKDMyKT9mdW5jdGlvbih0LGUsbil7cmV0dXJuIGkuZih0LGUscigxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDI5KSxyPW4oMzEpLG89bigzNSkscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPW4oMzIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYoaSh0KSxlPW8oZSwhMCksaShuKSxyKXRyeXtyZXR1cm4gcyh0LGUsbil9Y2F0Y2godCl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBUeXBlRXJyb3IoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCFcIik7cmV0dXJuXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDMwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIWkodCkpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGFuIG9iamVjdCFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigzMikmJiFuKDMzKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobigzNCkoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigzMykoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigzMCkscj1uKDIzKS5kb2N1bWVudCxvPWkocikmJmkoci5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8/ci5jcmVhdGVFbGVtZW50KHQpOnt9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMzApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFpKHQpKXJldHVybiB0O3ZhciBuLHI7aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIWkocj1uLmNhbGwodCkpKXJldHVybiByO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIWkocj1uLmNhbGwodCkpKXJldHVybiByO2lmKCFlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhaShyPW4uY2FsbCh0KSkpcmV0dXJuIHI7dGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigzOCkscj1uKDUzKSxvPW4oNTQpLHM9big1NSksYT1uKDQyKSx1PU9iamVjdC5hc3NpZ247dC5leHBvcnRzPSF1fHxuKDMzKShmdW5jdGlvbigpe3ZhciB0PXt9LGU9e30sbj1TeW1ib2woKSxpPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIjtyZXR1cm4gdFtuXT03LGkuc3BsaXQoXCJcIikuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXR9KSw3IT11KHt9LHQpW25dfHxPYmplY3Qua2V5cyh1KHt9LGUpKS5qb2luKFwiXCIpIT1pfSk/ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49cyh0KSx1PWFyZ3VtZW50cy5sZW5ndGgsbD0xLGM9ci5mLGQ9by5mO3U+bDspZm9yKHZhciBoLHA9YShhcmd1bWVudHNbbCsrXSksZj1jP2kocCkuY29uY2F0KGMocCkpOmkocCksdj1mLmxlbmd0aCx4PTA7dj54OylkLmNhbGwocCxoPWZbeCsrXSkmJihuW2hdPXBbaF0pO3JldHVybiBufTp1fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigzOSkscj1uKDUyKTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiBpKHQscil9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big0MCkscj1uKDQxKSxvPW4oNDUpKCExKSxzPW4oNDkpKFwiSUVfUFJPVE9cIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYT1yKHQpLHU9MCxsPVtdO2ZvcihuIGluIGEpbiE9cyYmaShhLG4pJiZsLnB1c2gobik7Zm9yKDtlLmxlbmd0aD51OylpKGEsbj1lW3UrK10pJiYofm8obCxuKXx8bC5wdXNoKG4pKTtyZXR1cm4gbH19LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNDIpLHI9big0NCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpKHIodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNDMpO3QuZXhwb3J0cz1PYmplY3QoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm5cIlN0cmluZ1wiPT1pKHQpP3Quc3BsaXQoXCJcIik6T2JqZWN0KHQpfX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbCh0KS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09dCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIrdCk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big0MSkscj1uKDQ2KSxvPW4oNDgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHMpe3ZhciBhLHU9aShlKSxsPXIodS5sZW5ndGgpLGM9byhzLGwpO2lmKHQmJm4hPW4pe2Zvcig7bD5jOylpZihhPXVbYysrXSxhIT1hKXJldHVybiEwfWVsc2UgZm9yKDtsPmM7YysrKWlmKCh0fHxjIGluIHUpJiZ1W2NdPT09bilyZXR1cm4gdHx8Y3x8MDtyZXR1cm4hdCYmLTF9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNDcpLHI9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/cihpKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSxmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY2VpbCxpPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/aTpuKSh0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDQ3KSxyPU1hdGgubWF4LG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9aSh0KSx0PDA/cih0K2UsMCk6byh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNTApKFwia2V5c1wiKSxyPW4oNTEpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaVt0XXx8KGlbdF09cih0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigyMykscj1cIl9fY29yZS1qc19zaGFyZWRfX1wiLG89aVtyXXx8KGlbcl09e30pO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gb1t0XXx8KG9bdF09e30pfX0sZnVuY3Rpb24odCxlKXt2YXIgbj0wLGk9TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJTeW1ib2woXCIuY29uY2F0KHZvaWQgMD09PXQ/XCJcIjp0LFwiKV9cIiwoKytuK2kpLnRvU3RyaW5nKDM2KSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZlwiLnNwbGl0KFwiLFwiKX0sZnVuY3Rpb24odCxlKXtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sZnVuY3Rpb24odCxlKXtlLmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDQ0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChpKHQpKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC4kY3JlYXRlRWxlbWVudCxuPXQuX3NlbGYuX2N8fGU7cmV0dXJuIG4oXCJkaXZcIix7c3RhdGljQ2xhc3M6XCJjYXJvdXNlbC0zZC1zbGlkZVwiLGNsYXNzOntjdXJyZW50OnQuaXNDdXJyZW50fSxzdHlsZTp0LnNsaWRlU3R5bGUsb246e2NsaWNrOmZ1bmN0aW9uKGUpe3QuZ29UbygpfX19LFt0Ll90KFwiZGVmYXVsdFwiKV0sMil9LHN0YXRpY1JlbmRlckZuczpbXX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC4kY3JlYXRlRWxlbWVudCxuPXQuX3NlbGYuX2N8fGU7cmV0dXJuIG4oXCJkaXZcIix7c3RhdGljQ2xhc3M6XCJjYXJvdXNlbC0zZC1jb250YWluZXJcIixzdHlsZTp7aGVpZ2h0OnRoaXMuc2xpZGVIZWlnaHQrXCJweFwifX0sW24oXCJkaXZcIix7c3RhdGljQ2xhc3M6XCJjYXJvdXNlbC0zZC1zbGlkZXJcIixzdHlsZTp7d2lkdGg6dGhpcy5zbGlkZVdpZHRoK1wicHhcIixoZWlnaHQ6dGhpcy5zbGlkZUhlaWdodCtcInB4XCJ9fSxbdC5fdChcImRlZmF1bHRcIildLDIpLHQuX3YoXCIgXCIpLHQuY29udHJvbHNWaXNpYmxlP24oXCJjb250cm9sc1wiLHthdHRyczp7XCJuZXh0LWh0bWxcIjp0LmNvbnRyb2xzTmV4dEh0bWwsXCJwcmV2LWh0bWxcIjp0LmNvbnRyb2xzUHJldkh0bWwsd2lkdGg6dC5jb250cm9sc1dpZHRoLGhlaWdodDp0LmNvbnRyb2xzSGVpZ2h0fX0pOnQuX2UoKV0sMSl9LHN0YXRpY1JlbmRlckZuczpbXX19XSl9KTsiXX0=
