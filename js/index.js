(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var _vueCarousel3d = require("vue-carousel-3d");

var _tls = require("tls");

var _animatedScrollTo = require("animated-scroll-to");

var _animatedScrollTo2 = _interopRequireDefault(_animatedScrollTo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getUrl() {
    var strUrl = location.search;
    var getPara, ParaVal;
    var aryPara = [];
    if (strUrl.indexOf("?") != -1) {
        var getSearch = strUrl.split("?");
        getPara = getSearch[1].split("&");
        for (var i = 0; i < getPara.length; i++) {
            ParaVal = getPara[i].split("=");
            aryPara.push(ParaVal[0]);
            aryPara[ParaVal[0]] = ParaVal[1];
        }
    }
    return aryPara;
}

Vue.use(_vueCarousel3d.Carousel3d);
new Vue({
    el: '#app',
    data: {
        isMenuOpen: false,
        slides: [{
            id: "slides_answer_link",
            src: "/images/landing/introduction/showcase1.png",
            url: "https://ipfs.infura.io/ipfs/QmcrCz9kLeBg1n3D6vYZfwC4YorhgTGoe4EEDuSkw11xPK/"
        }, {
            id: "slides_hozt_link",
            src: "/images/landing/introduction/showcase2.png",
            url: "https://ipfs.infura.io/ipfs/QmUm2i9tg69RvB4SCdKMF35m9JoKu7kMp4Y78qwfsSzL8D/"
        }, {
            id: "slides_wize_link",
            src: "/images/landing/introduction/showcase3.png",
            url: "https://ipfs.infura.io/ipfs/QmRVCSosZzqDVwpJZAXrJbhYbHZFQ4kuZbwg6Z5RBc7iFu/"
        }],
        isYoutubeShow: false,
        shareOpen: false,
        isheaderFix: false,
        scroll: 0
    },
    components: {
        Carousel3d: _vueCarousel3d.Carousel3d,
        Slide: _vueCarousel3d.Slide
    },
    methods: {
        toggleMenuFn: function toggleMenuFn() {
            this.isMenuOpen = !this.isMenuOpen;
        },
        comingsoonFn: function comingsoonFn() {
            alert("coming soon");
        },
        gaSeedPageView: function gaSeedPageView(name) {
            ga('send', 'event', name, 'click');
            var debug = getUrl();
            if (debug["debug"] == "true") console.log("GA PageView -> ", name);
        },
        youtubeShow: function youtubeShow() {
            this.isYoutubeShow = !this.isYoutubeShow;
        },
        fixedPopOpen: function fixedPopOpen() {
            this.shareOpen = !this.shareOpen;
        },
        gotoPageTop: function gotoPageTop() {
            (0, _animatedScrollTo2.default)(0);
        },
        scrollFn: function scrollFn() {
            this.scroll = document.documentElement.scrollTop;
            this.isheaderFix = this.scroll > 150;
        }
    },
    mounted: function mounted() {
        var _this = this;

        AOS.init();
        window.addEventListener('scroll', this.scrollFn);
        document.getElementsByClassName("next")[0].addEventListener("click", function () {
            _this.gaSeedPageView("slides_next_button");
        });
        document.getElementsByClassName("prev")[0].addEventListener("click", function () {
            _this.gaSeedPageView("slides_prev_button");
        });
    }
});

},{"animated-scroll-to":2,"tls":3,"vue-carousel-3d":4}],2:[function(require,module,exports){
(function() {
  'use strict';

  // desiredOffset - page offset to scroll to
  // speed - duration of the scroll per 1000px
  function __ANIMATE_SCROLL_TO(desiredOffset) {
    var userOptions = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

    var options = {
      speed: 500,
      minDuration: 250,
      maxDuration: 1500,
      cancelOnUserAction: true,
      element: window,
      horizontal: false,
      onComplete: undefined,
      passive: true,
      offset: 0
    };

    var optionsKeys = Object.keys(options);

    // Override default options
    for (var i = 0; i < optionsKeys.length; i++) {
      var key = optionsKeys[i];

      if (typeof userOptions[key] !== 'undefined') {
        options[key] = userOptions[key];
      }
    }

    if (!options.cancelOnUserAction && options.passive) {
      options.passive = false;
      if (userOptions.passive) {
        console && console.warn(
          'animated-scroll-to:\n "passive" was set to "false" to prevent errors, ' +
          'as using "cancelOnUserAction: false" doesn\'t work with passive events.')
      }
    }

    if (desiredOffset instanceof HTMLElement) {
      if (userOptions.element && userOptions.element instanceof HTMLElement) {
        if (options.horizontal) {
          desiredOffset = (desiredOffset.getBoundingClientRect().left + userOptions.element.scrollLeft)
            - userOptions.element.getBoundingClientRect().left;
        } else {
          desiredOffset = (desiredOffset.getBoundingClientRect().top + userOptions.element.scrollTop)
            - userOptions.element.getBoundingClientRect().top;
        }
      } else if (options.horizontal) {
        var scrollLeft = window.scrollX || document.documentElement.scrollLeft;
        desiredOffset = scrollLeft + desiredOffset.getBoundingClientRect().left;
      } else {
        var scrollTop = window.scrollY || document.documentElement.scrollTop;
        desiredOffset = scrollTop + desiredOffset.getBoundingClientRect().top;
      }
    }

    // Add additonal user offset
    desiredOffset += options.offset

    options.isWindow = options.element === window;

    var initialScrollPosition = null;
    var initialAxisScollPosition = 0;
    var maxScroll = null;

    if (options.isWindow) {
      if (options.horizontal) {
        // get cross browser scroll positions
        initialScrollPosition = window.scrollX || document.documentElement.scrollLeft;
        initialAxisScollPosition = window.scrollY || document.documentElement.scrollTop;
        // cross browser document height minus window height
        maxScroll = Math.max(
          document.body.scrollWidth, document.documentElement.scrollWidth,
          document.body.offsetWidth, document.documentElement.offsetWidth,
          document.body.clientWidth, document.documentElement.clientWidth
        ) - window.innerWidth;
      } else {
        // get cross browser scroll positions
        initialScrollPosition = window.scrollY || document.documentElement.scrollTop;
        initialAxisScollPosition = window.scrollX || document.documentElement.scrollLeft;
        // cross browser document width minus window width
        maxScroll = Math.max(
          document.body.scrollHeight, document.documentElement.scrollHeight,
          document.body.offsetHeight, document.documentElement.offsetHeight,
          document.body.clientHeight, document.documentElement.clientHeight
        ) - window.innerHeight;
      }
    } else {
      // DOM element
      if (options.horizontal) {
        initialScrollPosition = options.element.scrollLeft;
        maxScroll = options.element.scrollWidth - options.element.clientWidth;
      } else {
        initialScrollPosition = options.element.scrollTop;
        maxScroll = options.element.scrollHeight - options.element.clientHeight;
      }
    }

    // If the scroll position is greater than maximum available scroll
    if (desiredOffset > maxScroll) {
      desiredOffset = maxScroll;
    }

    // Calculate diff to scroll
    var diff = desiredOffset - initialScrollPosition;

    // Do nothing if the page is already there
    if (diff === 0) {
      // Execute callback if there is any
      if (options.onComplete && typeof options.onComplete === 'function') {
        options.onComplete()
      }

      return;
    }

    // Calculate duration of the scroll
    var duration = Math.abs(Math.round((diff / 1000) * options.speed));

    // Set minimum and maximum duration
    if (duration < options.minDuration) {
      duration = options.minDuration;
    } else if (duration > options.maxDuration) {
      duration = options.maxDuration;
    }

    var startingTime = Date.now();

    // Request animation frame ID
    var requestID = null;

    // Method handler
    var handleUserEvent = null;

    if (options.cancelOnUserAction) {
      // Set handler to cancel scroll on user action
      handleUserEvent = function() {
        removeListeners();
        cancelAnimationFrame(requestID);
      };
      window.addEventListener('keydown', handleUserEvent, { passive: options.passive });
      window.addEventListener('mousedown', handleUserEvent, { passive: options.passive });
    } else {
      // Set handler to prevent user actions while scroll is active
      handleUserEvent = function(e) { e.preventDefault(); };
      window.addEventListener('scroll', handleUserEvent, { passive: options.passive });
    }

    window.addEventListener('wheel', handleUserEvent, { passive: options.passive });
    window.addEventListener('touchstart', handleUserEvent, { passive: options.passive });

    var removeListeners = function () {
      window.removeEventListener('wheel', handleUserEvent);
      window.removeEventListener('touchstart', handleUserEvent);

      if (options.cancelOnUserAction) {
        window.removeEventListener('keydown', handleUserEvent);
        window.removeEventListener('mousedown', handleUserEvent);
      } else {
        window.removeEventListener('scroll', handleUserEvent);
      }
    };

    var step = function () {
      var timeDiff = Date.now() - startingTime;
      var t = (timeDiff / duration) - 1;
      var easing = t * t * t + 1;
      var scrollPosition = Math.round(initialScrollPosition + (diff * easing));

      var doScroll = function(position) {
        if (options.isWindow) {
          if (options.horizontal) {
            options.element.scrollTo(position, initialAxisScollPosition);
          } else {
            options.element.scrollTo(initialAxisScollPosition, position);
          }
        } else if (options.horizontal) {
          options.element.scrollLeft = position;
        } else {
          options.element.scrollTop = position;
        }
      }

      if (timeDiff < duration && scrollPosition !== desiredOffset) {
        // If scroll didn't reach desired offset or time is not elapsed
        // Scroll to a new position
        // And request a new step
        doScroll(scrollPosition);

        requestID = requestAnimationFrame(step);
      } else {
        // If the time elapsed or we reached the desired offset
        // Set scroll to the desired offset (when rounding made it to be off a pixel or two)
        // Clear animation frame to be sure
        doScroll(desiredOffset);

        cancelAnimationFrame(requestID);

        // Remove listeners
        removeListeners();

        // Animation is complete, execute callback if there is any
        if (options.onComplete && typeof options.onComplete === 'function') {
          options.onComplete()
        }
      }
    };

    // Start animating scroll
    requestID = requestAnimationFrame(step);
  }

  if (typeof exports !== 'undefined') {
    if (typeof module !== 'undefined' && module.exports) {
      module.exports = __ANIMATE_SCROLL_TO;
      exports = module.exports;
    }
    exports.default = __ANIMATE_SCROLL_TO;
  } else if (window) {
    window.animateScrollTo = __ANIMATE_SCROLL_TO;
  }
}).call(this);

},{}],3:[function(require,module,exports){

},{}],4:[function(require,module,exports){
/*!
 * vue-carousel-3d v0.1.20
 * (c) 2018 Vladimir Bujanovic
 * https://github.com/wlada/vue-carousel-3d#readme
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Carousel3d=e():t.Carousel3d=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Slide=e.Carousel3d=void 0;var r=n(1),o=i(r),s=n(15),a=i(s),u=function(t){t.component("carousel3d",o.default),t.component("slide",a.default)};e.default={install:u},e.Carousel3d=o.default,e.Slide=a.default},function(t,e,n){n(2);var i=n(7)(n(8),n(57),"data-v-c06c963c",null);t.exports=i.exports},function(t,e,n){var i=n(3);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);n(5)("e749a8c4",i,!0)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".carousel-3d-container[data-v-c06c963c]{min-height:1px;width:100%;position:relative;z-index:0;overflow:hidden;margin:20px auto;box-sizing:border-box}.carousel-3d-slider[data-v-c06c963c]{position:relative;margin:0 auto;transform-style:preserve-3d;-webkit-perspective:1000px;-moz-perspective:1000px;perspective:1000px}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=c[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(o(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var s=[],r=0;r<n.parts.length;r++)s.push(o(n.parts[r]));c[n.id]={id:n.id,refs:1,parts:s}}}}function r(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function o(t){var e,n,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(f)return v;i.parentNode.removeChild(i)}if(x){var o=p++;i=h||(h=r()),e=s.bind(null,i,o,!1),n=s.bind(null,i,o,!0)}else i=r(),e=a.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function s(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=m(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function a(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u="undefined"!=typeof document,l=n(6),c={},d=u&&(document.head||document.getElementsByTagName("head")[0]),h=null,p=0,f=!1,v=function(){},x="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n){f=n;var r=l(t,e);return i(r),function(e){for(var n=[],o=0;o<r.length;o++){var s=r[o],a=c[s.id];a.refs--,n.push(a)}e?(r=l(t,e),i(r)):r=[];for(var o=0;o<n.length;o++){var a=n[o];if(0===a.refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete c[a.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],s=o[0],a=o[1],u=o[2],l=o[3],c={id:t+":"+r,css:a,media:u,sourceMap:l};i[s]?i[s].parts.push(c):n.push(i[s]={id:s,parts:[c]})}return n}},function(t,e){t.exports=function(t,e,n,i){var r,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(r=t,o=t.default);var a="function"==typeof o?o.options:o;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),n&&(a._scopeId=n),i){var u=a.computed||(a.computed={});Object.keys(i).forEach(function(t){var e=i[t];u[t]=function(){return e}})}return{esModule:r,exports:o,options:a}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),o=i(r),s=n(10),a=i(s),u=n(15),l=i(u),c=function(){};e.default={name:"carousel3d",components:{Controls:a.default,Slide:l.default},props:{count:{type:[Number,String],default:0},perspective:{type:[Number,String],default:35},display:{type:[Number,String],default:5},loop:{type:Boolean,default:!0},animationSpeed:{type:[Number,String],default:500},dir:{type:String,default:"rtl"},width:{type:[Number,String],default:360},height:{type:[Number,String],default:270},border:{type:[Number,String],default:1},space:{type:[Number,String],default:"auto"},startIndex:{type:[Number,String],default:0},clickable:{type:Boolean,default:!0},disable3d:{type:Boolean,default:!1},minSwipeDistance:{type:Number,default:10},inverseScaling:{type:[Number,String],default:300},controlsVisible:{type:Boolean,default:!1},controlsPrevHtml:{type:String,default:"&lsaquo;"},controlsNextHtml:{type:String,default:"&rsaquo;"},controlsWidth:{type:[String,Number],default:50},controlsHeight:{type:[String,Number],default:50},onLastSlide:{type:Function,default:c},onSlideChange:{type:Function,default:c},bias:{type:String,default:"left"},onMainSlideClick:{type:Function,default:c}},data:function(){return{viewport:0,currentIndex:0,total:0,lock:!1,dragOffset:0,dragStartX:0,mousedown:!1,zIndex:998}},mixins:[o.default],watch:{count:function(){this.computeData()}},computed:{isLastSlide:function(){return this.currentIndex===this.total-1},isFirstSlide:function(){return 0===this.currentIndex},isNextPossible:function(){return!(!this.loop&&this.isLastSlide)},isPrevPossible:function(){return!(!this.loop&&this.isFirstSlide)},slideWidth:function(){var t=this.viewport,e=parseInt(this.width)+2*parseInt(this.border,10);return t<e?t:e},slideHeight:function(){var t=parseInt(this.width,10)+2*parseInt(this.border,10),e=parseInt(parseInt(this.height)+2*this.border,10),n=this.calculateAspectRatio(t,e);return this.slideWidth/n},visible:function(){var t=this.display>this.total?this.total:this.display;return t},hasHiddenSlides:function(){return this.total>this.visible},leftIndices:function(){var t=(this.visible-1)/2;t="left"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t);for(var e=[],n=1;n<=t;n++)e.push("ltr"===this.dir?(this.currentIndex+n)%this.total:(this.currentIndex-n)%this.total);return e},rightIndices:function(){var t=(this.visible-1)/2;t="right"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t);for(var e=[],n=1;n<=t;n++)e.push("ltr"===this.dir?(this.currentIndex-n)%this.total:(this.currentIndex+n)%this.total);return e},leftOutIndex:function(){var t=(this.visible-1)/2;return t="left"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t),t++,"ltr"===this.dir?this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t):this.currentIndex+t:this.currentIndex-t},rightOutIndex:function(){var t=(this.visible-1)/2;return t="right"===this.bias.toLowerCase()?Math.ceil(t):Math.floor(t),t++,"ltr"===this.dir?this.currentIndex-t:this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t,10):this.currentIndex+t}},methods:{goNext:function(){this.isNextPossible&&(this.isLastSlide?this.goSlide(0):this.goSlide(this.currentIndex+1))},goPrev:function(){this.isPrevPossible&&(this.isFirstSlide?this.goSlide(this.total-1):this.goSlide(this.currentIndex-1))},goSlide:function(t){var e=this;this.currentIndex=t<0||t>this.total-1?0:t,this.lock=!0,this.isLastSlide&&(this.onLastSlide!==c&&console.warn("onLastSlide deprecated, please use @last-slide"),this.onLastSlide(this.currentIndex),this.$emit("last-slide",this.currentIndex)),this.$emit("before-slide-change",this.currentIndex),setTimeout(function(){return e.animationEnd()},this.animationSpeed)},goFar:function(t){var e=this,n=t===this.total-1&&this.isFirstSlide?-1:t-this.currentIndex;this.isLastSlide&&0===t&&(n=1);for(var i=n<0?-n:n,r=0,o=0;o<i;){o+=1;var s=1===i?0:r;setTimeout(function(){return n<0?e.goPrev(i):e.goNext(i)},s),r+=this.animationSpeed/i}},animationEnd:function(){this.lock=!1,this.onSlideChange!==c&&console.warn("onSlideChange deprecated, please use @after-slide-change"),this.onSlideChange(this.currentIndex),this.$emit("after-slide-change",this.currentIndex)},handleMouseup:function(){this.mousedown=!1,this.dragOffset=0},handleMousedown:function(t){t.touches||t.preventDefault(),this.mousedown=!0,this.dragStartX="ontouchstart"in window?t.touches[0].clientX:t.clientX},handleMousemove:function(t){if(this.mousedown){var e="ontouchstart"in window?t.touches[0].clientX:t.clientX,n=this.dragStartX-e;this.dragOffset=n,this.dragOffset>this.minSwipeDistance?(this.handleMouseup(),this.goNext()):this.dragOffset<-this.minSwipeDistance&&(this.handleMouseup(),this.goPrev())}},attachMutationObserver:function(){var t=this,e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(e){var n={attributes:!0,childList:!0,characterData:!0};this.mutationObserver=new e(function(){t.$nextTick(function(){t.computeData()})}),this.$el&&this.mutationObserver.observe(this.$el,n)}},detachMutationObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},getSlideCount:function(){return void 0!==this.$slots.default?this.$slots.default.filter(function(t){return void 0!==t.tag}).length:0},calculateAspectRatio:function(t,e){return Math.min(t/e)},computeData:function(t){this.total=this.getSlideCount(),(t||this.currentIndex>=this.total)&&(this.currentIndex=parseInt(this.startIndex)>this.total-1?this.total-1:parseInt(this.startIndex)),this.viewport=this.$el.clientWidth},setSize:function(){this.$el.style.cssText+="height:"+this.slideHeight+"px;",this.$el.childNodes[0].style.cssText+="width:"+this.slideWidth+"px; height:"+this.slideHeight+"px;"}},mounted:function(){this.computeData(!0),this.attachMutationObserver(),this.$isServer||(window.addEventListener("resize",this.setSize),"ontouchstart"in window?(this.$el.addEventListener("touchstart",this.handleMousedown),this.$el.addEventListener("touchend",this.handleMouseup),this.$el.addEventListener("touchmove",this.handleMousemove)):(this.$el.addEventListener("mousedown",this.handleMousedown),this.$el.addEventListener("mouseup",this.handleMouseup),this.$el.addEventListener("mousemove",this.handleMousemove)))},beforeDestroy:function(){this.$isServer||(this.detachMutationObserver(),"ontouchstart"in window?this.$el.removeEventListener("touchmove",this.handleMousemove):this.$el.removeEventListener("mousemove",this.handleMousemove),window.removeEventListener("resize",this.setSize))}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={props:{autoplay:{type:Boolean,default:!1},autoplayTimeout:{type:Number,default:2e3},autoplayHoverPause:{type:Boolean,default:!0}},data:function(){return{autoplayInterval:null}},destroyed:function(){this.pauseAutoplay(),this.$isServer||(this.$el.removeEventListener("mouseenter",this.pauseAutoplay),this.$el.removeEventListener("mouseleave",this.startAutoplay))},methods:{pauseAutoplay:function(){this.autoplayInterval&&(this.autoplayInterval=clearInterval(this.autoplayInterval))},startAutoplay:function(){var t=this;this.autoplay&&(this.autoplayInterval=setInterval(function(){"ltr"===t.dir?t.goPrev():t.goNext()},this.autoplayTimeout))}},mounted:function(){!this.$isServer&&this.autoplayHoverPause&&(this.$el.addEventListener("mouseenter",this.pauseAutoplay),this.$el.addEventListener("mouseleave",this.startAutoplay)),this.startAutoplay()}};e.default=n},function(t,e,n){n(11);var i=n(7)(n(13),n(14),"data-v-43e93932",null);t.exports=i.exports},function(t,e,n){var i=n(12);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);n(5)("06c66230",i,!0)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".carousel-3d-controls[data-v-43e93932]{position:absolute;top:50%;height:0;margin-top:-30px;left:0;width:100%;z-index:9099}.next[data-v-43e93932],.prev[data-v-43e93932]{width:60px;position:absolute;z-index:9999;font-size:60px;height:60px;line-height:60px;color:#333;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;top:0}.next[data-v-43e93932]:hover,.prev[data-v-43e93932]:hover{cursor:pointer;opacity:.7}.prev[data-v-43e93932]{left:10px;text-align:left}.next[data-v-43e93932]{right:10px;text-align:right}.disabled[data-v-43e93932],.disabled[data-v-43e93932]:hover{opacity:.2;cursor:default}",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"controls",props:{width:{type:[String,Number],default:50},height:{type:[String,Number],default:60},prevHtml:{type:String,default:"&lsaquo;"},nextHtml:{type:String,default:"&rsaquo;"}},data:function(){return{parent:this.$parent}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel-3d-controls"},[n("a",{staticClass:"prev",class:{disabled:!t.parent.isPrevPossible},style:"width: "+t.width+"px; height: "+t.height+"px; line-height: "+t.height+"px;",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.parent.goPrev()}}},[n("span",{domProps:{innerHTML:t._s(t.prevHtml)}})]),t._v(" "),n("a",{staticClass:"next",class:{disabled:!t.parent.isNextPossible},style:"width: "+t.width+"px; height: "+t.height+"px; line-height: "+t.height+"px;",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.parent.goNext()}}},[n("span",{domProps:{innerHTML:t._s(t.nextHtml)}})])])},staticRenderFns:[]}},function(t,e,n){n(16);var i=n(7)(n(18),n(56),null,null);t.exports=i.exports},function(t,e,n){var i=n(17);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);n(5)("1dbacf8a",i,!0)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".carousel-3d-slide{position:absolute;opacity:0;visibility:hidden;overflow:hidden;top:0;border-radius:1px;border-color:#000;border-color:rgba(0,0,0,.4);border-style:solid;background-size:cover;background-color:#ccc;display:block;margin:0;box-sizing:border-box;text-align:left}.carousel-3d-slide img{width:100%}.carousel-3d-slide.current{opacity:1!important;visibility:visible!important;transform:none!important;z-index:999}",""])},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=i(r);e.default={name:"slide",props:{index:{type:Number}},data:function(){return{parent:this.$parent,styles:{},zIndex:999}},computed:{isCurrent:function(){return this.index===this.parent.currentIndex},slideStyle:function(){var t={};if(!this.isCurrent){var e=this.getSideIndex(this.parent.rightIndices),n=this.getSideIndex(this.parent.leftIndices);(e>=0||n>=0)&&(t=e>=0?this.calculatePosition(e,!0,this.zIndex):this.calculatePosition(n,!1,this.zIndex),t.opacity=1,t.visibility="visible"),this.parent.hasHiddenSlides&&(this.matchIndex(this.parent.leftOutIndex)?t=this.calculatePosition(this.parent.leftIndices.length-1,!1,this.zIndex):this.matchIndex(this.parent.rightOutIndex)&&(t=this.calculatePosition(this.parent.rightIndices.length-1,!0,this.zIndex)))}return(0,o.default)(t,{"border-width":this.parent.border+"px",width:this.parent.slideWidth+"px",height:this.parent.slideHeight+"px",transition:" transform "+this.parent.animationSpeed+"ms,                opacity "+this.parent.animationSpeed+"ms,                visibility "+this.parent.animationSpeed+"ms"})}},methods:{getSideIndex:function(t){var e=this,n=-1;return t.forEach(function(t,i){e.matchIndex(t)&&(n=i)}),n},matchIndex:function(t){return t>=0?this.index===t:this.parent.total+t===this.index},calculatePosition:function(t,e,n){var i=this.parent.disable3d?0:parseInt(this.parent.inverseScaling)+100*(t+1),r=this.parent.disable3d?0:parseInt(this.parent.perspective),o="auto"===this.parent.space?parseInt((t+1)*(this.parent.width/1.5),10):parseInt((t+1)*this.parent.space,10),s=e?"translateX("+o+"px) translateZ(-"+i+"px) rotateY(-"+r+"deg)":"translateX(-"+o+"px) translateZ(-"+i+"px) rotateY("+r+"deg)",a="auto"===this.parent.space?0:parseInt((t+1)*this.parent.space);return{transform:s,top:a,zIndex:n-(Math.abs(t)+1)}},goTo:function(){this.isCurrent?this.parent.onMainSlideClick():this.parent.clickable===!0&&this.parent.goFar(this.index)}}}},function(t,e,n){t.exports={default:n(20),__esModule:!0}},function(t,e,n){n(21),t.exports=n(24).Object.assign},function(t,e,n){var i=n(22);i(i.S+i.F,"Object",{assign:n(37)})},function(t,e,n){var i=n(23),r=n(24),o=n(25),s=n(27),a="prototype",u=function(t,e,n){var l,c,d,h=t&u.F,p=t&u.G,f=t&u.S,v=t&u.P,x=t&u.B,m=t&u.W,g=p?r:r[e]||(r[e]={}),y=g[a],b=p?i:f?i[e]:(i[e]||{})[a];p&&(n=e);for(l in n)c=!h&&b&&void 0!==b[l],c&&l in g||(d=c?b[l]:n[l],g[l]=p&&"function"!=typeof b[l]?n[l]:x&&c?o(d,i):m&&b[l]==d?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[a]=t[a],e}(d):v&&"function"==typeof d?o(Function.call,d):d,v&&((g.virtual||(g.virtual={}))[l]=d,t&u.R&&y&&!y[l]&&s(y,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(26);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(28),r=n(36);t.exports=n(32)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(29),r=n(31),o=n(35),s=Object.defineProperty;e.f=n(32)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(30);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(32)&&!n(33)(function(){return 7!=Object.defineProperty(n(34)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(33)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(30),r=n(23).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(30);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var i=n(38),r=n(53),o=n(54),s=n(55),a=n(42),u=Object.assign;t.exports=!u||n(33)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=s(t),u=arguments.length,l=1,c=r.f,d=o.f;u>l;)for(var h,p=a(arguments[l++]),f=c?i(p).concat(c(p)):i(p),v=f.length,x=0;v>x;)d.call(p,h=f[x++])&&(n[h]=p[h]);return n}:u},function(t,e,n){var i=n(39),r=n(52);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(40),r=n(41),o=n(45)(!1),s=n(49)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),u=0,l=[];for(n in a)n!=s&&i(a,n)&&l.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(42),r=n(44);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(43);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(41),r=n(46),o=n(48);t.exports=function(t){return function(e,n,s){var a,u=i(e),l=r(u.length),c=o(s,l);if(t&&n!=n){for(;l>c;)if(a=u[c++],a!=a)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(47),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(47),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(50)("keys"),r=n(51);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(23),r="__core-js_shared__",o=i[r]||(i[r]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(44);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel-3d-slide",class:{current:t.isCurrent},style:t.slideStyle,on:{click:function(e){t.goTo()}}},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carousel-3d-container",style:{height:this.slideHeight+"px"}},[n("div",{staticClass:"carousel-3d-slider",style:{width:this.slideWidth+"px",height:this.slideHeight+"px"}},[t._t("default")],2),t._v(" "),t.controlsVisible?n("controls",{attrs:{"next-html":t.controlsNextHtml,"prev-html":t.controlsPrevHtml,width:t.controlsWidth,height:t.controlsHeight}}):t._e()],1)},staticRenderFns:[]}}])});
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJlczYvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYW5pbWF0ZWQtc2Nyb2xsLXRvL2FuaW1hdGVkLXNjcm9sbC10by5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L2xpYi9fZW1wdHkuanMiLCJub2RlX21vZHVsZXMvdnVlLWNhcm91c2VsLTNkL2Rpc3QvdnVlLWNhcm91c2VsLTNkLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDZ0JBOztBQUNBOztBQUNBOzs7Ozs7QUFsQkEsU0FBUyxNQUFULEdBQWtCO0FBQ2pCLFFBQUksU0FBUyxTQUFTLE1BQXRCO0FBQ0EsUUFBSSxPQUFKLEVBQWEsT0FBYjtBQUNBLFFBQUksVUFBVSxFQUFkO0FBQ0EsUUFBSSxPQUFPLE9BQVAsQ0FBZSxHQUFmLEtBQXVCLENBQUMsQ0FBNUIsRUFBK0I7QUFDOUIsWUFBSSxZQUFZLE9BQU8sS0FBUCxDQUFhLEdBQWIsQ0FBaEI7QUFDQSxrQkFBVSxVQUFVLENBQVYsRUFBYSxLQUFiLENBQW1CLEdBQW5CLENBQVY7QUFDQSxhQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksUUFBUSxNQUE1QixFQUFvQyxHQUFwQyxFQUF5QztBQUN2QyxzQkFBVSxRQUFRLENBQVIsRUFBVyxLQUFYLENBQWlCLEdBQWpCLENBQVY7QUFDQSxvQkFBUSxJQUFSLENBQWEsUUFBUSxDQUFSLENBQWI7QUFDQSxvQkFBUSxRQUFRLENBQVIsQ0FBUixJQUFzQixRQUFRLENBQVIsQ0FBdEI7QUFDRDtBQUNEO0FBQ0QsV0FBTyxPQUFQO0FBQ0E7O0FBTUQsSUFBSSxHQUFKLENBQVEseUJBQVI7QUFDQSxJQUFJLEdBQUosQ0FBUTtBQUNKLFFBQUksTUFEQTtBQUVKLFVBQU07QUFDRixvQkFBWSxLQURWO0FBRUYsZ0JBQVEsQ0FDSjtBQUNJLGdCQUFJLG9CQURSO0FBRUksaUJBQUssNENBRlQ7QUFHSSxpQkFBSztBQUhULFNBREksRUFLRjtBQUNFLGdCQUFJLGtCQUROO0FBRUUsaUJBQUssNENBRlA7QUFHRSxpQkFBSztBQUhQLFNBTEUsRUFTRjtBQUNFLGdCQUFJLGtCQUROO0FBRUUsaUJBQUssNENBRlA7QUFHRSxpQkFBSztBQUhQLFNBVEUsQ0FGTjtBQWlCRix1QkFBZSxLQWpCYjtBQWtCRixtQkFBVyxLQWxCVDtBQW1CRixxQkFBYSxLQW5CWDtBQW9CRixnQkFBUTtBQXBCTixLQUZGO0FBd0JKLGdCQUFZO0FBQ1IsNkNBRFE7QUFFUjtBQUZRLEtBeEJSO0FBNEJKLGFBQVM7QUFDTCxvQkFESywwQkFDVTtBQUNYLGlCQUFLLFVBQUwsR0FBa0IsQ0FBQyxLQUFLLFVBQXhCO0FBQ0gsU0FISTtBQUlMLG9CQUpLLDBCQUlVO0FBQ1gsa0JBQU0sYUFBTjtBQUNILFNBTkk7QUFPTCxzQkFQSywwQkFPVSxJQVBWLEVBT2dCO0FBQ2pCLGVBQUcsTUFBSCxFQUFXLE9BQVgsRUFBb0IsSUFBcEIsRUFBMEIsT0FBMUI7QUFDQSxnQkFBSSxRQUFRLFFBQVo7QUFDQSxnQkFBRyxNQUFNLE9BQU4sS0FBZ0IsTUFBbkIsRUFBMkIsUUFBUSxHQUFSLENBQVksaUJBQVosRUFBOEIsSUFBOUI7QUFDOUIsU0FYSTtBQVlMLG1CQVpLLHlCQVlRO0FBQ1QsaUJBQUssYUFBTCxHQUFxQixDQUFDLEtBQUssYUFBM0I7QUFDSCxTQWRJO0FBZUwsb0JBZkssMEJBZVU7QUFDWCxpQkFBSyxTQUFMLEdBQWlCLENBQUMsS0FBSyxTQUF2QjtBQUNILFNBakJJO0FBa0JMLG1CQWxCSyx5QkFrQlM7QUFDViw0Q0FBZ0IsQ0FBaEI7QUFDSCxTQXBCSTtBQXFCTCxnQkFyQkssc0JBcUJNO0FBQ1AsaUJBQUssTUFBTCxHQUFjLFNBQVMsZUFBVCxDQUF5QixTQUF2QztBQUNBLGlCQUFLLFdBQUwsR0FBbUIsS0FBSyxNQUFMLEdBQWMsR0FBakM7QUFDSDtBQXhCSSxLQTVCTDtBQXNESixXQXRESSxxQkFzRE07QUFBQTs7QUFDTixZQUFJLElBQUo7QUFDQSxlQUFPLGdCQUFQLENBQXdCLFFBQXhCLEVBQWtDLEtBQUssUUFBdkM7QUFDQSxpQkFBUyxzQkFBVCxDQUFnQyxNQUFoQyxFQUF3QyxDQUF4QyxFQUEyQyxnQkFBM0MsQ0FBNEQsT0FBNUQsRUFBb0UsWUFBSTtBQUNwRSxrQkFBSyxjQUFMLENBQW9CLG9CQUFwQjtBQUNILFNBRkQ7QUFHQSxpQkFBUyxzQkFBVCxDQUFnQyxNQUFoQyxFQUF3QyxDQUF4QyxFQUEyQyxnQkFBM0MsQ0FBNEQsT0FBNUQsRUFBb0UsWUFBSTtBQUNwRSxrQkFBSyxjQUFMLENBQW9CLG9CQUFwQjtBQUNILFNBRkQ7QUFJSDtBQWhFRyxDQUFSOzs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hPQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJmdW5jdGlvbiBnZXRVcmwoKSB7XHJcblx0dmFyIHN0clVybCA9IGxvY2F0aW9uLnNlYXJjaDtcclxuXHR2YXIgZ2V0UGFyYSwgUGFyYVZhbDtcclxuXHR2YXIgYXJ5UGFyYSA9IFtdO1xyXG5cdGlmIChzdHJVcmwuaW5kZXhPZihcIj9cIikgIT0gLTEpIHtcclxuXHRcdHZhciBnZXRTZWFyY2ggPSBzdHJVcmwuc3BsaXQoXCI/XCIpO1xyXG5cdFx0Z2V0UGFyYSA9IGdldFNlYXJjaFsxXS5zcGxpdChcIiZcIik7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGdldFBhcmEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRQYXJhVmFsID0gZ2V0UGFyYVtpXS5zcGxpdChcIj1cIik7XHJcblx0XHRcdFx0YXJ5UGFyYS5wdXNoKFBhcmFWYWxbMF0pO1xyXG5cdFx0XHRcdGFyeVBhcmFbUGFyYVZhbFswXV0gPSBQYXJhVmFsWzFdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gYXJ5UGFyYTtcclxufVxyXG5cclxuaW1wb3J0IHsgQ2Fyb3VzZWwzZCwgU2xpZGUgfSBmcm9tICd2dWUtY2Fyb3VzZWwtM2QnO1xyXG5pbXBvcnQgeyBDTElFTlRfUkVORUdfV0lORE9XIH0gZnJvbSAndGxzJztcclxuaW1wb3J0IGFuaW1hdGVTY3JvbGxUbyBmcm9tICdhbmltYXRlZC1zY3JvbGwtdG8nO1xyXG5cclxuVnVlLnVzZShDYXJvdXNlbDNkKTtcclxubmV3IFZ1ZSh7XHJcbiAgICBlbDogJyNhcHAnLFxyXG4gICAgZGF0YToge1xyXG4gICAgICAgIGlzTWVudU9wZW46IGZhbHNlLFxyXG4gICAgICAgIHNsaWRlczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogXCJzbGlkZXNfYW5zd2VyX2xpbmtcIixcclxuICAgICAgICAgICAgICAgIHNyYzogXCIvaW1hZ2VzL2xhbmRpbmcvaW50cm9kdWN0aW9uL3Nob3djYXNlMS5wbmdcIixcclxuICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL2lwZnMuaW5mdXJhLmlvL2lwZnMvUW1jckN6OWtMZUJnMW4zRDZ2WVpmd0M0WW9yaGdUR29lNEVFRHVTa3cxMXhQSy9cIlxyXG4gICAgICAgICAgICB9LHtcclxuICAgICAgICAgICAgICAgIGlkOiBcInNsaWRlc19ob3p0X2xpbmtcIixcclxuICAgICAgICAgICAgICAgIHNyYzogXCIvaW1hZ2VzL2xhbmRpbmcvaW50cm9kdWN0aW9uL3Nob3djYXNlMi5wbmdcIixcclxuICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL2lwZnMuaW5mdXJhLmlvL2lwZnMvUW1VbTJpOXRnNjlSdkI0U0NkS01GMzVtOUpvS3U3a01wNFk3OHF3ZnNTekw4RC9cIlxyXG4gICAgICAgICAgICB9LHtcclxuICAgICAgICAgICAgICAgIGlkOiBcInNsaWRlc193aXplX2xpbmtcIixcclxuICAgICAgICAgICAgICAgIHNyYzogXCIvaW1hZ2VzL2xhbmRpbmcvaW50cm9kdWN0aW9uL3Nob3djYXNlMy5wbmdcIixcclxuICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL2lwZnMuaW5mdXJhLmlvL2lwZnMvUW1SVkNTb3NaenFEVndwSlpBWHJKYmhZYkhaRlE0a3VaYndnNlo1UkJjN2lGdS9cIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgaXNZb3V0dWJlU2hvdzogZmFsc2UsXHJcbiAgICAgICAgc2hhcmVPcGVuOiBmYWxzZSxcclxuICAgICAgICBpc2hlYWRlckZpeDogZmFsc2UsXHJcbiAgICAgICAgc2Nyb2xsOiAwLFxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICBDYXJvdXNlbDNkLFxyXG4gICAgICAgIFNsaWRlXHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIHRvZ2dsZU1lbnVGbigpIHtcclxuICAgICAgICAgICAgdGhpcy5pc01lbnVPcGVuID0gIXRoaXMuaXNNZW51T3BlbjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbWluZ3Nvb25GbigpIHtcclxuICAgICAgICAgICAgYWxlcnQoXCJjb21pbmcgc29vblwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdhU2VlZFBhZ2VWaWV3KG5hbWUpIHtcclxuICAgICAgICAgICAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCBuYW1lLCAnY2xpY2snLCApO1xyXG4gICAgICAgICAgICBsZXQgZGVidWcgPSBnZXRVcmwoKTtcclxuICAgICAgICAgICAgaWYoZGVidWdbXCJkZWJ1Z1wiXT09XCJ0cnVlXCIpIGNvbnNvbGUubG9nKFwiR0EgUGFnZVZpZXcgLT4gXCIsbmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB5b3V0dWJlU2hvdygpe1xyXG4gICAgICAgICAgICB0aGlzLmlzWW91dHViZVNob3cgPSAhdGhpcy5pc1lvdXR1YmVTaG93O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZml4ZWRQb3BPcGVuKCkge1xyXG4gICAgICAgICAgICB0aGlzLnNoYXJlT3BlbiA9ICF0aGlzLnNoYXJlT3BlbjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdvdG9QYWdlVG9wKCkge1xyXG4gICAgICAgICAgICBhbmltYXRlU2Nyb2xsVG8oMCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzY3JvbGxGbigpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICB0aGlzLmlzaGVhZGVyRml4ID0gdGhpcy5zY3JvbGwgPiAxNTA7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1vdW50ZWQoKSB7IFxyXG4gICAgICAgIEFPUy5pbml0KCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsRm4pO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJuZXh0XCIpWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuZ2FTZWVkUGFnZVZpZXcoXCJzbGlkZXNfbmV4dF9idXR0b25cIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInByZXZcIilbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKCk9PntcclxuICAgICAgICAgICAgdGhpcy5nYVNlZWRQYWdlVmlldyhcInNsaWRlc19wcmV2X2J1dHRvblwiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn0pOyIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIGRlc2lyZWRPZmZzZXQgLSBwYWdlIG9mZnNldCB0byBzY3JvbGwgdG9cbiAgLy8gc3BlZWQgLSBkdXJhdGlvbiBvZiB0aGUgc2Nyb2xsIHBlciAxMDAwcHhcbiAgZnVuY3Rpb24gX19BTklNQVRFX1NDUk9MTF9UTyhkZXNpcmVkT2Zmc2V0KSB7XG4gICAgdmFyIHVzZXJPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIHNwZWVkOiA1MDAsXG4gICAgICBtaW5EdXJhdGlvbjogMjUwLFxuICAgICAgbWF4RHVyYXRpb246IDE1MDAsXG4gICAgICBjYW5jZWxPblVzZXJBY3Rpb246IHRydWUsXG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBob3Jpem9udGFsOiBmYWxzZSxcbiAgICAgIG9uQ29tcGxldGU6IHVuZGVmaW5lZCxcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9O1xuXG4gICAgdmFyIG9wdGlvbnNLZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG5cbiAgICAvLyBPdmVycmlkZSBkZWZhdWx0IG9wdGlvbnNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnNLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gb3B0aW9uc0tleXNbaV07XG5cbiAgICAgIGlmICh0eXBlb2YgdXNlck9wdGlvbnNba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb3B0aW9uc1trZXldID0gdXNlck9wdGlvbnNba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuY2FuY2VsT25Vc2VyQWN0aW9uICYmIG9wdGlvbnMucGFzc2l2ZSkge1xuICAgICAgb3B0aW9ucy5wYXNzaXZlID0gZmFsc2U7XG4gICAgICBpZiAodXNlck9wdGlvbnMucGFzc2l2ZSkge1xuICAgICAgICBjb25zb2xlICYmIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnYW5pbWF0ZWQtc2Nyb2xsLXRvOlxcbiBcInBhc3NpdmVcIiB3YXMgc2V0IHRvIFwiZmFsc2VcIiB0byBwcmV2ZW50IGVycm9ycywgJyArXG4gICAgICAgICAgJ2FzIHVzaW5nIFwiY2FuY2VsT25Vc2VyQWN0aW9uOiBmYWxzZVwiIGRvZXNuXFwndCB3b3JrIHdpdGggcGFzc2l2ZSBldmVudHMuJylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGVzaXJlZE9mZnNldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBpZiAodXNlck9wdGlvbnMuZWxlbWVudCAmJiB1c2VyT3B0aW9ucy5lbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaG9yaXpvbnRhbCkge1xuICAgICAgICAgIGRlc2lyZWRPZmZzZXQgPSAoZGVzaXJlZE9mZnNldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgdXNlck9wdGlvbnMuZWxlbWVudC5zY3JvbGxMZWZ0KVxuICAgICAgICAgICAgLSB1c2VyT3B0aW9ucy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVzaXJlZE9mZnNldCA9IChkZXNpcmVkT2Zmc2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHVzZXJPcHRpb25zLmVsZW1lbnQuc2Nyb2xsVG9wKVxuICAgICAgICAgICAgLSB1c2VyT3B0aW9ucy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmhvcml6b250YWwpIHtcbiAgICAgICAgdmFyIHNjcm9sbExlZnQgPSB3aW5kb3cuc2Nyb2xsWCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICAgICAgZGVzaXJlZE9mZnNldCA9IHNjcm9sbExlZnQgKyBkZXNpcmVkT2Zmc2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gd2luZG93LnNjcm9sbFkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgZGVzaXJlZE9mZnNldCA9IHNjcm9sbFRvcCArIGRlc2lyZWRPZmZzZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBhZGRpdG9uYWwgdXNlciBvZmZzZXRcbiAgICBkZXNpcmVkT2Zmc2V0ICs9IG9wdGlvbnMub2Zmc2V0XG5cbiAgICBvcHRpb25zLmlzV2luZG93ID0gb3B0aW9ucy5lbGVtZW50ID09PSB3aW5kb3c7XG5cbiAgICB2YXIgaW5pdGlhbFNjcm9sbFBvc2l0aW9uID0gbnVsbDtcbiAgICB2YXIgaW5pdGlhbEF4aXNTY29sbFBvc2l0aW9uID0gMDtcbiAgICB2YXIgbWF4U2Nyb2xsID0gbnVsbDtcblxuICAgIGlmIChvcHRpb25zLmlzV2luZG93KSB7XG4gICAgICBpZiAob3B0aW9ucy5ob3Jpem9udGFsKSB7XG4gICAgICAgIC8vIGdldCBjcm9zcyBicm93c2VyIHNjcm9sbCBwb3NpdGlvbnNcbiAgICAgICAgaW5pdGlhbFNjcm9sbFBvc2l0aW9uID0gd2luZG93LnNjcm9sbFggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgIGluaXRpYWxBeGlzU2NvbGxQb3NpdGlvbiA9IHdpbmRvdy5zY3JvbGxZIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgIC8vIGNyb3NzIGJyb3dzZXIgZG9jdW1lbnQgaGVpZ2h0IG1pbnVzIHdpbmRvdyBoZWlnaHRcbiAgICAgICAgbWF4U2Nyb2xsID0gTWF0aC5tYXgoXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoLFxuICAgICAgICAgIGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCxcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGhcbiAgICAgICAgKSAtIHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZ2V0IGNyb3NzIGJyb3dzZXIgc2Nyb2xsIHBvc2l0aW9uc1xuICAgICAgICBpbml0aWFsU2Nyb2xsUG9zaXRpb24gPSB3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICBpbml0aWFsQXhpc1Njb2xsUG9zaXRpb24gPSB3aW5kb3cuc2Nyb2xsWCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICAgICAgLy8gY3Jvc3MgYnJvd3NlciBkb2N1bWVudCB3aWR0aCBtaW51cyB3aW5kb3cgd2lkdGhcbiAgICAgICAgbWF4U2Nyb2xsID0gTWF0aC5tYXgoXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQsXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICAgICAgKSAtIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRE9NIGVsZW1lbnRcbiAgICAgIGlmIChvcHRpb25zLmhvcml6b250YWwpIHtcbiAgICAgICAgaW5pdGlhbFNjcm9sbFBvc2l0aW9uID0gb3B0aW9ucy5lbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgIG1heFNjcm9sbCA9IG9wdGlvbnMuZWxlbWVudC5zY3JvbGxXaWR0aCAtIG9wdGlvbnMuZWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluaXRpYWxTY3JvbGxQb3NpdGlvbiA9IG9wdGlvbnMuZWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgIG1heFNjcm9sbCA9IG9wdGlvbnMuZWxlbWVudC5zY3JvbGxIZWlnaHQgLSBvcHRpb25zLmVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBzY3JvbGwgcG9zaXRpb24gaXMgZ3JlYXRlciB0aGFuIG1heGltdW0gYXZhaWxhYmxlIHNjcm9sbFxuICAgIGlmIChkZXNpcmVkT2Zmc2V0ID4gbWF4U2Nyb2xsKSB7XG4gICAgICBkZXNpcmVkT2Zmc2V0ID0gbWF4U2Nyb2xsO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBkaWZmIHRvIHNjcm9sbFxuICAgIHZhciBkaWZmID0gZGVzaXJlZE9mZnNldCAtIGluaXRpYWxTY3JvbGxQb3NpdGlvbjtcblxuICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIHBhZ2UgaXMgYWxyZWFkeSB0aGVyZVxuICAgIGlmIChkaWZmID09PSAwKSB7XG4gICAgICAvLyBFeGVjdXRlIGNhbGxiYWNrIGlmIHRoZXJlIGlzIGFueVxuICAgICAgaWYgKG9wdGlvbnMub25Db21wbGV0ZSAmJiB0eXBlb2Ygb3B0aW9ucy5vbkNvbXBsZXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9wdGlvbnMub25Db21wbGV0ZSgpXG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgZHVyYXRpb24gb2YgdGhlIHNjcm9sbFxuICAgIHZhciBkdXJhdGlvbiA9IE1hdGguYWJzKE1hdGgucm91bmQoKGRpZmYgLyAxMDAwKSAqIG9wdGlvbnMuc3BlZWQpKTtcblxuICAgIC8vIFNldCBtaW5pbXVtIGFuZCBtYXhpbXVtIGR1cmF0aW9uXG4gICAgaWYgKGR1cmF0aW9uIDwgb3B0aW9ucy5taW5EdXJhdGlvbikge1xuICAgICAgZHVyYXRpb24gPSBvcHRpb25zLm1pbkR1cmF0aW9uO1xuICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gPiBvcHRpb25zLm1heER1cmF0aW9uKSB7XG4gICAgICBkdXJhdGlvbiA9IG9wdGlvbnMubWF4RHVyYXRpb247XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0aW5nVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAvLyBSZXF1ZXN0IGFuaW1hdGlvbiBmcmFtZSBJRFxuICAgIHZhciByZXF1ZXN0SUQgPSBudWxsO1xuXG4gICAgLy8gTWV0aG9kIGhhbmRsZXJcbiAgICB2YXIgaGFuZGxlVXNlckV2ZW50ID0gbnVsbDtcblxuICAgIGlmIChvcHRpb25zLmNhbmNlbE9uVXNlckFjdGlvbikge1xuICAgICAgLy8gU2V0IGhhbmRsZXIgdG8gY2FuY2VsIHNjcm9sbCBvbiB1c2VyIGFjdGlvblxuICAgICAgaGFuZGxlVXNlckV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZXF1ZXN0SUQpO1xuICAgICAgfTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlVXNlckV2ZW50LCB7IHBhc3NpdmU6IG9wdGlvbnMucGFzc2l2ZSB9KTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVVc2VyRXZlbnQsIHsgcGFzc2l2ZTogb3B0aW9ucy5wYXNzaXZlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTZXQgaGFuZGxlciB0byBwcmV2ZW50IHVzZXIgYWN0aW9ucyB3aGlsZSBzY3JvbGwgaXMgYWN0aXZlXG4gICAgICBoYW5kbGVVc2VyRXZlbnQgPSBmdW5jdGlvbihlKSB7IGUucHJldmVudERlZmF1bHQoKTsgfTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVVc2VyRXZlbnQsIHsgcGFzc2l2ZTogb3B0aW9ucy5wYXNzaXZlIH0pO1xuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIGhhbmRsZVVzZXJFdmVudCwgeyBwYXNzaXZlOiBvcHRpb25zLnBhc3NpdmUgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVVc2VyRXZlbnQsIHsgcGFzc2l2ZTogb3B0aW9ucy5wYXNzaXZlIH0pO1xuXG4gICAgdmFyIHJlbW92ZUxpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIGhhbmRsZVVzZXJFdmVudCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZVVzZXJFdmVudCk7XG5cbiAgICAgIGlmIChvcHRpb25zLmNhbmNlbE9uVXNlckFjdGlvbikge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZVVzZXJFdmVudCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVVc2VyRXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVVzZXJFdmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBzdGVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRpbWVEaWZmID0gRGF0ZS5ub3coKSAtIHN0YXJ0aW5nVGltZTtcbiAgICAgIHZhciB0ID0gKHRpbWVEaWZmIC8gZHVyYXRpb24pIC0gMTtcbiAgICAgIHZhciBlYXNpbmcgPSB0ICogdCAqIHQgKyAxO1xuICAgICAgdmFyIHNjcm9sbFBvc2l0aW9uID0gTWF0aC5yb3VuZChpbml0aWFsU2Nyb2xsUG9zaXRpb24gKyAoZGlmZiAqIGVhc2luZykpO1xuXG4gICAgICB2YXIgZG9TY3JvbGwgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICBpZiAob3B0aW9ucy5pc1dpbmRvdykge1xuICAgICAgICAgIGlmIChvcHRpb25zLmhvcml6b250YWwpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZWxlbWVudC5zY3JvbGxUbyhwb3NpdGlvbiwgaW5pdGlhbEF4aXNTY29sbFBvc2l0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5lbGVtZW50LnNjcm9sbFRvKGluaXRpYWxBeGlzU2NvbGxQb3NpdGlvbiwgcG9zaXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmhvcml6b250YWwpIHtcbiAgICAgICAgICBvcHRpb25zLmVsZW1lbnQuc2Nyb2xsTGVmdCA9IHBvc2l0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbnMuZWxlbWVudC5zY3JvbGxUb3AgPSBwb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGltZURpZmYgPCBkdXJhdGlvbiAmJiBzY3JvbGxQb3NpdGlvbiAhPT0gZGVzaXJlZE9mZnNldCkge1xuICAgICAgICAvLyBJZiBzY3JvbGwgZGlkbid0IHJlYWNoIGRlc2lyZWQgb2Zmc2V0IG9yIHRpbWUgaXMgbm90IGVsYXBzZWRcbiAgICAgICAgLy8gU2Nyb2xsIHRvIGEgbmV3IHBvc2l0aW9uXG4gICAgICAgIC8vIEFuZCByZXF1ZXN0IGEgbmV3IHN0ZXBcbiAgICAgICAgZG9TY3JvbGwoc2Nyb2xsUG9zaXRpb24pO1xuXG4gICAgICAgIHJlcXVlc3RJRCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSB0aW1lIGVsYXBzZWQgb3Igd2UgcmVhY2hlZCB0aGUgZGVzaXJlZCBvZmZzZXRcbiAgICAgICAgLy8gU2V0IHNjcm9sbCB0byB0aGUgZGVzaXJlZCBvZmZzZXQgKHdoZW4gcm91bmRpbmcgbWFkZSBpdCB0byBiZSBvZmYgYSBwaXhlbCBvciB0d28pXG4gICAgICAgIC8vIENsZWFyIGFuaW1hdGlvbiBmcmFtZSB0byBiZSBzdXJlXG4gICAgICAgIGRvU2Nyb2xsKGRlc2lyZWRPZmZzZXQpO1xuXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJlcXVlc3RJRCk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICByZW1vdmVMaXN0ZW5lcnMoKTtcblxuICAgICAgICAvLyBBbmltYXRpb24gaXMgY29tcGxldGUsIGV4ZWN1dGUgY2FsbGJhY2sgaWYgdGhlcmUgaXMgYW55XG4gICAgICAgIGlmIChvcHRpb25zLm9uQ29tcGxldGUgJiYgdHlwZW9mIG9wdGlvbnMub25Db21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9wdGlvbnMub25Db21wbGV0ZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gU3RhcnQgYW5pbWF0aW5nIHNjcm9sbFxuICAgIHJlcXVlc3RJRCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgIG1vZHVsZS5leHBvcnRzID0gX19BTklNQVRFX1NDUk9MTF9UTztcbiAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cztcbiAgICB9XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gX19BTklNQVRFX1NDUk9MTF9UTztcbiAgfSBlbHNlIGlmICh3aW5kb3cpIHtcbiAgICB3aW5kb3cuYW5pbWF0ZVNjcm9sbFRvID0gX19BTklNQVRFX1NDUk9MTF9UTztcbiAgfVxufSkuY2FsbCh0aGlzKTtcbiIsIiIsIi8qIVxuICogdnVlLWNhcm91c2VsLTNkIHYwLjEuMjBcbiAqIChjKSAyMDE4IFZsYWRpbWlyIEJ1amFub3ZpY1xuICogaHR0cHM6Ly9naXRodWIuY29tL3dsYWRhL3Z1ZS1jYXJvdXNlbC0zZCNyZWFkbWVcbiAqL1xuIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5DYXJvdXNlbDNkPWUoKTp0LkNhcm91c2VsM2Q9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoaSl7aWYobltpXSlyZXR1cm4gbltpXS5leHBvcnRzO3ZhciByPW5baV09e2V4cG9ydHM6e30saWQ6aSxsb2FkZWQ6ITF9O3JldHVybiB0W2ldLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLGUpLHIubG9hZGVkPSEwLHIuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlNsaWRlPWUuQ2Fyb3VzZWwzZD12b2lkIDA7dmFyIHI9bigxKSxvPWkocikscz1uKDE1KSxhPWkocyksdT1mdW5jdGlvbih0KXt0LmNvbXBvbmVudChcImNhcm91c2VsM2RcIixvLmRlZmF1bHQpLHQuY29tcG9uZW50KFwic2xpZGVcIixhLmRlZmF1bHQpfTtlLmRlZmF1bHQ9e2luc3RhbGw6dX0sZS5DYXJvdXNlbDNkPW8uZGVmYXVsdCxlLlNsaWRlPWEuZGVmYXVsdH0sZnVuY3Rpb24odCxlLG4pe24oMik7dmFyIGk9big3KShuKDgpLG4oNTcpLFwiZGF0YS12LWMwNmM5NjNjXCIsbnVsbCk7dC5leHBvcnRzPWkuZXhwb3J0c30sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMyk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pZCxpLFwiXCJdXSksaS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpO24oNSkoXCJlNzQ5YThjNFwiLGksITApfSxmdW5jdGlvbih0LGUsbil7ZT10LmV4cG9ydHM9big0KSgpLGUucHVzaChbdC5pZCxcIi5jYXJvdXNlbC0zZC1jb250YWluZXJbZGF0YS12LWMwNmM5NjNjXXttaW4taGVpZ2h0OjFweDt3aWR0aDoxMDAlO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MDtvdmVyZmxvdzpoaWRkZW47bWFyZ2luOjIwcHggYXV0bztib3gtc2l6aW5nOmJvcmRlci1ib3h9LmNhcm91c2VsLTNkLXNsaWRlcltkYXRhLXYtYzA2Yzk2M2Nde3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowIGF1dG87dHJhbnNmb3JtLXN0eWxlOnByZXNlcnZlLTNkOy13ZWJraXQtcGVyc3BlY3RpdmU6MTAwMHB4Oy1tb3otcGVyc3BlY3RpdmU6MTAwMHB4O3BlcnNwZWN0aXZlOjEwMDBweH1cIixcIlwiXSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzW2VdO25bMl0/dC5wdXNoKFwiQG1lZGlhIFwiK25bMl0rXCJ7XCIrblsxXStcIn1cIik6dC5wdXNoKG5bMV0pfXJldHVybiB0LmpvaW4oXCJcIil9LHQuaT1mdW5jdGlvbihlLG4pe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1bW251bGwsZSxcIlwiXV0pO2Zvcih2YXIgaT17fSxyPTA7cjx0aGlzLmxlbmd0aDtyKyspe3ZhciBvPXRoaXNbcl1bMF07XCJudW1iZXJcIj09dHlwZW9mIG8mJihpW29dPSEwKX1mb3Iocj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgcz1lW3JdO1wibnVtYmVyXCI9PXR5cGVvZiBzWzBdJiZpW3NbMF1dfHwobiYmIXNbMl0/c1syXT1uOm4mJihzWzJdPVwiKFwiK3NbMl0rXCIpIGFuZCAoXCIrbitcIilcIiksdC5wdXNoKHMpKX19LHR9fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaSh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXSxpPWNbbi5pZF07aWYoaSl7aS5yZWZzKys7Zm9yKHZhciByPTA7cjxpLnBhcnRzLmxlbmd0aDtyKyspaS5wYXJ0c1tyXShuLnBhcnRzW3JdKTtmb3IoO3I8bi5wYXJ0cy5sZW5ndGg7cisrKWkucGFydHMucHVzaChvKG4ucGFydHNbcl0pKTtpLnBhcnRzLmxlbmd0aD5uLnBhcnRzLmxlbmd0aCYmKGkucGFydHMubGVuZ3RoPW4ucGFydHMubGVuZ3RoKX1lbHNle2Zvcih2YXIgcz1bXSxyPTA7cjxuLnBhcnRzLmxlbmd0aDtyKyspcy5wdXNoKG8obi5wYXJ0c1tyXSkpO2Nbbi5pZF09e2lkOm4uaWQscmVmczoxLHBhcnRzOnN9fX19ZnVuY3Rpb24gcigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtyZXR1cm4gdC50eXBlPVwidGV4dC9jc3NcIixkLmFwcGVuZENoaWxkKHQpLHR9ZnVuY3Rpb24gbyh0KXt2YXIgZSxuLGk9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3R5bGVbZGF0YS12dWUtc3NyLWlkfj1cIicrdC5pZCsnXCJdJyk7aWYoaSl7aWYoZilyZXR1cm4gdjtpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSl9aWYoeCl7dmFyIG89cCsrO2k9aHx8KGg9cigpKSxlPXMuYmluZChudWxsLGksbywhMSksbj1zLmJpbmQobnVsbCxpLG8sITApfWVsc2UgaT1yKCksZT1hLmJpbmQobnVsbCxpKSxuPWZ1bmN0aW9uKCl7aS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpfTtyZXR1cm4gZSh0KSxmdW5jdGlvbihpKXtpZihpKXtpZihpLmNzcz09PXQuY3NzJiZpLm1lZGlhPT09dC5tZWRpYSYmaS5zb3VyY2VNYXA9PT10LnNvdXJjZU1hcClyZXR1cm47ZSh0PWkpfWVsc2UgbigpfX1mdW5jdGlvbiBzKHQsZSxuLGkpe3ZhciByPW4/XCJcIjppLmNzcztpZih0LnN0eWxlU2hlZXQpdC5zdHlsZVNoZWV0LmNzc1RleHQ9bShlLHIpO2Vsc2V7dmFyIG89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocikscz10LmNoaWxkTm9kZXM7c1tlXSYmdC5yZW1vdmVDaGlsZChzW2VdKSxzLmxlbmd0aD90Lmluc2VydEJlZm9yZShvLHNbZV0pOnQuYXBwZW5kQ2hpbGQobyl9fWZ1bmN0aW9uIGEodCxlKXt2YXIgbj1lLmNzcyxpPWUubWVkaWEscj1lLnNvdXJjZU1hcDtpZihpJiZ0LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsaSksciYmKG4rPVwiXFxuLyojIHNvdXJjZVVSTD1cIityLnNvdXJjZXNbMF0rXCIgKi9cIixuKz1cIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKSkrXCIgKi9cIiksdC5zdHlsZVNoZWV0KXQuc3R5bGVTaGVldC5jc3NUZXh0PW47ZWxzZXtmb3IoO3QuZmlyc3RDaGlsZDspdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpfX12YXIgdT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQsbD1uKDYpLGM9e30sZD11JiYoZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdKSxoPW51bGwscD0wLGY9ITEsdj1mdW5jdGlvbigpe30seD1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvbXNpZSBbNi05XVxcYi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7Zj1uO3ZhciByPWwodCxlKTtyZXR1cm4gaShyKSxmdW5jdGlvbihlKXtmb3IodmFyIG49W10sbz0wO288ci5sZW5ndGg7bysrKXt2YXIgcz1yW29dLGE9Y1tzLmlkXTthLnJlZnMtLSxuLnB1c2goYSl9ZT8ocj1sKHQsZSksaShyKSk6cj1bXTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9bltvXTtpZigwPT09YS5yZWZzKXtmb3IodmFyIHU9MDt1PGEucGFydHMubGVuZ3RoO3UrKylhLnBhcnRzW3VdKCk7ZGVsZXRlIGNbYS5pZF19fX19O3ZhciBtPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIHRbZV09bix0LmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpfX0oKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10saT17fSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl0scz1vWzBdLGE9b1sxXSx1PW9bMl0sbD1vWzNdLGM9e2lkOnQrXCI6XCIrcixjc3M6YSxtZWRpYTp1LHNvdXJjZU1hcDpsfTtpW3NdP2lbc10ucGFydHMucHVzaChjKTpuLnB1c2goaVtzXT17aWQ6cyxwYXJ0czpbY119KX1yZXR1cm4gbn19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLG89dD10fHx7fSxzPXR5cGVvZiB0LmRlZmF1bHQ7XCJvYmplY3RcIiE9PXMmJlwiZnVuY3Rpb25cIiE9PXN8fChyPXQsbz10LmRlZmF1bHQpO3ZhciBhPVwiZnVuY3Rpb25cIj09dHlwZW9mIG8/by5vcHRpb25zOm87aWYoZSYmKGEucmVuZGVyPWUucmVuZGVyLGEuc3RhdGljUmVuZGVyRm5zPWUuc3RhdGljUmVuZGVyRm5zKSxuJiYoYS5fc2NvcGVJZD1uKSxpKXt2YXIgdT1hLmNvbXB1dGVkfHwoYS5jb21wdXRlZD17fSk7T2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1pW3RdO3VbdF09ZnVuY3Rpb24oKXtyZXR1cm4gZX19KX1yZXR1cm57ZXNNb2R1bGU6cixleHBvcnRzOm8sb3B0aW9uczphfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDkpLG89aShyKSxzPW4oMTApLGE9aShzKSx1PW4oMTUpLGw9aSh1KSxjPWZ1bmN0aW9uKCl7fTtlLmRlZmF1bHQ9e25hbWU6XCJjYXJvdXNlbDNkXCIsY29tcG9uZW50czp7Q29udHJvbHM6YS5kZWZhdWx0LFNsaWRlOmwuZGVmYXVsdH0scHJvcHM6e2NvdW50Ont0eXBlOltOdW1iZXIsU3RyaW5nXSxkZWZhdWx0OjB9LHBlcnNwZWN0aXZlOnt0eXBlOltOdW1iZXIsU3RyaW5nXSxkZWZhdWx0OjM1fSxkaXNwbGF5Ont0eXBlOltOdW1iZXIsU3RyaW5nXSxkZWZhdWx0OjV9LGxvb3A6e3R5cGU6Qm9vbGVhbixkZWZhdWx0OiEwfSxhbmltYXRpb25TcGVlZDp7dHlwZTpbTnVtYmVyLFN0cmluZ10sZGVmYXVsdDo1MDB9LGRpcjp7dHlwZTpTdHJpbmcsZGVmYXVsdDpcInJ0bFwifSx3aWR0aDp7dHlwZTpbTnVtYmVyLFN0cmluZ10sZGVmYXVsdDozNjB9LGhlaWdodDp7dHlwZTpbTnVtYmVyLFN0cmluZ10sZGVmYXVsdDoyNzB9LGJvcmRlcjp7dHlwZTpbTnVtYmVyLFN0cmluZ10sZGVmYXVsdDoxfSxzcGFjZTp7dHlwZTpbTnVtYmVyLFN0cmluZ10sZGVmYXVsdDpcImF1dG9cIn0sc3RhcnRJbmRleDp7dHlwZTpbTnVtYmVyLFN0cmluZ10sZGVmYXVsdDowfSxjbGlja2FibGU6e3R5cGU6Qm9vbGVhbixkZWZhdWx0OiEwfSxkaXNhYmxlM2Q6e3R5cGU6Qm9vbGVhbixkZWZhdWx0OiExfSxtaW5Td2lwZURpc3RhbmNlOnt0eXBlOk51bWJlcixkZWZhdWx0OjEwfSxpbnZlcnNlU2NhbGluZzp7dHlwZTpbTnVtYmVyLFN0cmluZ10sZGVmYXVsdDozMDB9LGNvbnRyb2xzVmlzaWJsZTp7dHlwZTpCb29sZWFuLGRlZmF1bHQ6ITF9LGNvbnRyb2xzUHJldkh0bWw6e3R5cGU6U3RyaW5nLGRlZmF1bHQ6XCImbHNhcXVvO1wifSxjb250cm9sc05leHRIdG1sOnt0eXBlOlN0cmluZyxkZWZhdWx0OlwiJnJzYXF1bztcIn0sY29udHJvbHNXaWR0aDp7dHlwZTpbU3RyaW5nLE51bWJlcl0sZGVmYXVsdDo1MH0sY29udHJvbHNIZWlnaHQ6e3R5cGU6W1N0cmluZyxOdW1iZXJdLGRlZmF1bHQ6NTB9LG9uTGFzdFNsaWRlOnt0eXBlOkZ1bmN0aW9uLGRlZmF1bHQ6Y30sb25TbGlkZUNoYW5nZTp7dHlwZTpGdW5jdGlvbixkZWZhdWx0OmN9LGJpYXM6e3R5cGU6U3RyaW5nLGRlZmF1bHQ6XCJsZWZ0XCJ9LG9uTWFpblNsaWRlQ2xpY2s6e3R5cGU6RnVuY3Rpb24sZGVmYXVsdDpjfX0sZGF0YTpmdW5jdGlvbigpe3JldHVybnt2aWV3cG9ydDowLGN1cnJlbnRJbmRleDowLHRvdGFsOjAsbG9jazohMSxkcmFnT2Zmc2V0OjAsZHJhZ1N0YXJ0WDowLG1vdXNlZG93bjohMSx6SW5kZXg6OTk4fX0sbWl4aW5zOltvLmRlZmF1bHRdLHdhdGNoOntjb3VudDpmdW5jdGlvbigpe3RoaXMuY29tcHV0ZURhdGEoKX19LGNvbXB1dGVkOntpc0xhc3RTbGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRJbmRleD09PXRoaXMudG90YWwtMX0saXNGaXJzdFNsaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmN1cnJlbnRJbmRleH0saXNOZXh0UG9zc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLmxvb3AmJnRoaXMuaXNMYXN0U2xpZGUpfSxpc1ByZXZQb3NzaWJsZTpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMubG9vcCYmdGhpcy5pc0ZpcnN0U2xpZGUpfSxzbGlkZVdpZHRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52aWV3cG9ydCxlPXBhcnNlSW50KHRoaXMud2lkdGgpKzIqcGFyc2VJbnQodGhpcy5ib3JkZXIsMTApO3JldHVybiB0PGU/dDplfSxzbGlkZUhlaWdodDpmdW5jdGlvbigpe3ZhciB0PXBhcnNlSW50KHRoaXMud2lkdGgsMTApKzIqcGFyc2VJbnQodGhpcy5ib3JkZXIsMTApLGU9cGFyc2VJbnQocGFyc2VJbnQodGhpcy5oZWlnaHQpKzIqdGhpcy5ib3JkZXIsMTApLG49dGhpcy5jYWxjdWxhdGVBc3BlY3RSYXRpbyh0LGUpO3JldHVybiB0aGlzLnNsaWRlV2lkdGgvbn0sdmlzaWJsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGlzcGxheT50aGlzLnRvdGFsP3RoaXMudG90YWw6dGhpcy5kaXNwbGF5O3JldHVybiB0fSxoYXNIaWRkZW5TbGlkZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b3RhbD50aGlzLnZpc2libGV9LGxlZnRJbmRpY2VzOmZ1bmN0aW9uKCl7dmFyIHQ9KHRoaXMudmlzaWJsZS0xKS8yO3Q9XCJsZWZ0XCI9PT10aGlzLmJpYXMudG9Mb3dlckNhc2UoKT9NYXRoLmNlaWwodCk6TWF0aC5mbG9vcih0KTtmb3IodmFyIGU9W10sbj0xO248PXQ7bisrKWUucHVzaChcImx0clwiPT09dGhpcy5kaXI/KHRoaXMuY3VycmVudEluZGV4K24pJXRoaXMudG90YWw6KHRoaXMuY3VycmVudEluZGV4LW4pJXRoaXMudG90YWwpO3JldHVybiBlfSxyaWdodEluZGljZXM6ZnVuY3Rpb24oKXt2YXIgdD0odGhpcy52aXNpYmxlLTEpLzI7dD1cInJpZ2h0XCI9PT10aGlzLmJpYXMudG9Mb3dlckNhc2UoKT9NYXRoLmNlaWwodCk6TWF0aC5mbG9vcih0KTtmb3IodmFyIGU9W10sbj0xO248PXQ7bisrKWUucHVzaChcImx0clwiPT09dGhpcy5kaXI/KHRoaXMuY3VycmVudEluZGV4LW4pJXRoaXMudG90YWw6KHRoaXMuY3VycmVudEluZGV4K24pJXRoaXMudG90YWwpO3JldHVybiBlfSxsZWZ0T3V0SW5kZXg6ZnVuY3Rpb24oKXt2YXIgdD0odGhpcy52aXNpYmxlLTEpLzI7cmV0dXJuIHQ9XCJsZWZ0XCI9PT10aGlzLmJpYXMudG9Mb3dlckNhc2UoKT9NYXRoLmNlaWwodCk6TWF0aC5mbG9vcih0KSx0KyssXCJsdHJcIj09PXRoaXMuZGlyP3RoaXMudG90YWwtdGhpcy5jdXJyZW50SW5kZXgtdDw9MD8tcGFyc2VJbnQodGhpcy50b3RhbC10aGlzLmN1cnJlbnRJbmRleC10KTp0aGlzLmN1cnJlbnRJbmRleCt0OnRoaXMuY3VycmVudEluZGV4LXR9LHJpZ2h0T3V0SW5kZXg6ZnVuY3Rpb24oKXt2YXIgdD0odGhpcy52aXNpYmxlLTEpLzI7cmV0dXJuIHQ9XCJyaWdodFwiPT09dGhpcy5iaWFzLnRvTG93ZXJDYXNlKCk/TWF0aC5jZWlsKHQpOk1hdGguZmxvb3IodCksdCsrLFwibHRyXCI9PT10aGlzLmRpcj90aGlzLmN1cnJlbnRJbmRleC10OnRoaXMudG90YWwtdGhpcy5jdXJyZW50SW5kZXgtdDw9MD8tcGFyc2VJbnQodGhpcy50b3RhbC10aGlzLmN1cnJlbnRJbmRleC10LDEwKTp0aGlzLmN1cnJlbnRJbmRleCt0fX0sbWV0aG9kczp7Z29OZXh0OmZ1bmN0aW9uKCl7dGhpcy5pc05leHRQb3NzaWJsZSYmKHRoaXMuaXNMYXN0U2xpZGU/dGhpcy5nb1NsaWRlKDApOnRoaXMuZ29TbGlkZSh0aGlzLmN1cnJlbnRJbmRleCsxKSl9LGdvUHJldjpmdW5jdGlvbigpe3RoaXMuaXNQcmV2UG9zc2libGUmJih0aGlzLmlzRmlyc3RTbGlkZT90aGlzLmdvU2xpZGUodGhpcy50b3RhbC0xKTp0aGlzLmdvU2xpZGUodGhpcy5jdXJyZW50SW5kZXgtMSkpfSxnb1NsaWRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5jdXJyZW50SW5kZXg9dDwwfHx0PnRoaXMudG90YWwtMT8wOnQsdGhpcy5sb2NrPSEwLHRoaXMuaXNMYXN0U2xpZGUmJih0aGlzLm9uTGFzdFNsaWRlIT09YyYmY29uc29sZS53YXJuKFwib25MYXN0U2xpZGUgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBAbGFzdC1zbGlkZVwiKSx0aGlzLm9uTGFzdFNsaWRlKHRoaXMuY3VycmVudEluZGV4KSx0aGlzLiRlbWl0KFwibGFzdC1zbGlkZVwiLHRoaXMuY3VycmVudEluZGV4KSksdGhpcy4kZW1pdChcImJlZm9yZS1zbGlkZS1jaGFuZ2VcIix0aGlzLmN1cnJlbnRJbmRleCksc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBlLmFuaW1hdGlvbkVuZCgpfSx0aGlzLmFuaW1hdGlvblNwZWVkKX0sZ29GYXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXQ9PT10aGlzLnRvdGFsLTEmJnRoaXMuaXNGaXJzdFNsaWRlPy0xOnQtdGhpcy5jdXJyZW50SW5kZXg7dGhpcy5pc0xhc3RTbGlkZSYmMD09PXQmJihuPTEpO2Zvcih2YXIgaT1uPDA/LW46bixyPTAsbz0wO288aTspe28rPTE7dmFyIHM9MT09PWk/MDpyO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gbjwwP2UuZ29QcmV2KGkpOmUuZ29OZXh0KGkpfSxzKSxyKz10aGlzLmFuaW1hdGlvblNwZWVkL2l9fSxhbmltYXRpb25FbmQ6ZnVuY3Rpb24oKXt0aGlzLmxvY2s9ITEsdGhpcy5vblNsaWRlQ2hhbmdlIT09YyYmY29uc29sZS53YXJuKFwib25TbGlkZUNoYW5nZSBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEBhZnRlci1zbGlkZS1jaGFuZ2VcIiksdGhpcy5vblNsaWRlQ2hhbmdlKHRoaXMuY3VycmVudEluZGV4KSx0aGlzLiRlbWl0KFwiYWZ0ZXItc2xpZGUtY2hhbmdlXCIsdGhpcy5jdXJyZW50SW5kZXgpfSxoYW5kbGVNb3VzZXVwOmZ1bmN0aW9uKCl7dGhpcy5tb3VzZWRvd249ITEsdGhpcy5kcmFnT2Zmc2V0PTB9LGhhbmRsZU1vdXNlZG93bjpmdW5jdGlvbih0KXt0LnRvdWNoZXN8fHQucHJldmVudERlZmF1bHQoKSx0aGlzLm1vdXNlZG93bj0hMCx0aGlzLmRyYWdTdGFydFg9XCJvbnRvdWNoc3RhcnRcImluIHdpbmRvdz90LnRvdWNoZXNbMF0uY2xpZW50WDp0LmNsaWVudFh9LGhhbmRsZU1vdXNlbW92ZTpmdW5jdGlvbih0KXtpZih0aGlzLm1vdXNlZG93bil7dmFyIGU9XCJvbnRvdWNoc3RhcnRcImluIHdpbmRvdz90LnRvdWNoZXNbMF0uY2xpZW50WDp0LmNsaWVudFgsbj10aGlzLmRyYWdTdGFydFgtZTt0aGlzLmRyYWdPZmZzZXQ9bix0aGlzLmRyYWdPZmZzZXQ+dGhpcy5taW5Td2lwZURpc3RhbmNlPyh0aGlzLmhhbmRsZU1vdXNldXAoKSx0aGlzLmdvTmV4dCgpKTp0aGlzLmRyYWdPZmZzZXQ8LXRoaXMubWluU3dpcGVEaXN0YW5jZSYmKHRoaXMuaGFuZGxlTW91c2V1cCgpLHRoaXMuZ29QcmV2KCkpfX0sYXR0YWNoTXV0YXRpb25PYnNlcnZlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyO2lmKGUpe3ZhciBuPXthdHRyaWJ1dGVzOiEwLGNoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiEwfTt0aGlzLm11dGF0aW9uT2JzZXJ2ZXI9bmV3IGUoZnVuY3Rpb24oKXt0LiRuZXh0VGljayhmdW5jdGlvbigpe3QuY29tcHV0ZURhdGEoKX0pfSksdGhpcy4kZWwmJnRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuJGVsLG4pfX0sZGV0YWNoTXV0YXRpb25PYnNlcnZlcjpmdW5jdGlvbigpe3RoaXMubXV0YXRpb25PYnNlcnZlciYmdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKX0sZ2V0U2xpZGVDb3VudDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLiRzbG90cy5kZWZhdWx0P3RoaXMuJHNsb3RzLmRlZmF1bHQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10LnRhZ30pLmxlbmd0aDowfSxjYWxjdWxhdGVBc3BlY3RSYXRpbzpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1pbih0L2UpfSxjb21wdXRlRGF0YTpmdW5jdGlvbih0KXt0aGlzLnRvdGFsPXRoaXMuZ2V0U2xpZGVDb3VudCgpLCh0fHx0aGlzLmN1cnJlbnRJbmRleD49dGhpcy50b3RhbCkmJih0aGlzLmN1cnJlbnRJbmRleD1wYXJzZUludCh0aGlzLnN0YXJ0SW5kZXgpPnRoaXMudG90YWwtMT90aGlzLnRvdGFsLTE6cGFyc2VJbnQodGhpcy5zdGFydEluZGV4KSksdGhpcy52aWV3cG9ydD10aGlzLiRlbC5jbGllbnRXaWR0aH0sc2V0U2l6ZTpmdW5jdGlvbigpe3RoaXMuJGVsLnN0eWxlLmNzc1RleHQrPVwiaGVpZ2h0OlwiK3RoaXMuc2xpZGVIZWlnaHQrXCJweDtcIix0aGlzLiRlbC5jaGlsZE5vZGVzWzBdLnN0eWxlLmNzc1RleHQrPVwid2lkdGg6XCIrdGhpcy5zbGlkZVdpZHRoK1wicHg7IGhlaWdodDpcIit0aGlzLnNsaWRlSGVpZ2h0K1wicHg7XCJ9fSxtb3VudGVkOmZ1bmN0aW9uKCl7dGhpcy5jb21wdXRlRGF0YSghMCksdGhpcy5hdHRhY2hNdXRhdGlvbk9ic2VydmVyKCksdGhpcy4kaXNTZXJ2ZXJ8fCh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuc2V0U2l6ZSksXCJvbnRvdWNoc3RhcnRcImluIHdpbmRvdz8odGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLmhhbmRsZU1vdXNlZG93biksdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5oYW5kbGVNb3VzZXVwKSx0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5oYW5kbGVNb3VzZW1vdmUpKToodGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuaGFuZGxlTW91c2Vkb3duKSx0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuaGFuZGxlTW91c2V1cCksdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuaGFuZGxlTW91c2Vtb3ZlKSkpfSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy4kaXNTZXJ2ZXJ8fCh0aGlzLmRldGFjaE11dGF0aW9uT2JzZXJ2ZXIoKSxcIm9udG91Y2hzdGFydFwiaW4gd2luZG93P3RoaXMuJGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLmhhbmRsZU1vdXNlbW92ZSk6dGhpcy4kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuaGFuZGxlTW91c2Vtb3ZlKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuc2V0U2l6ZSkpfX19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49e3Byb3BzOnthdXRvcGxheTp7dHlwZTpCb29sZWFuLGRlZmF1bHQ6ITF9LGF1dG9wbGF5VGltZW91dDp7dHlwZTpOdW1iZXIsZGVmYXVsdDoyZTN9LGF1dG9wbGF5SG92ZXJQYXVzZTp7dHlwZTpCb29sZWFuLGRlZmF1bHQ6ITB9fSxkYXRhOmZ1bmN0aW9uKCl7cmV0dXJue2F1dG9wbGF5SW50ZXJ2YWw6bnVsbH19LGRlc3Ryb3llZDpmdW5jdGlvbigpe3RoaXMucGF1c2VBdXRvcGxheSgpLHRoaXMuJGlzU2VydmVyfHwodGhpcy4kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIix0aGlzLnBhdXNlQXV0b3BsYXkpLHRoaXMuJGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5zdGFydEF1dG9wbGF5KSl9LG1ldGhvZHM6e3BhdXNlQXV0b3BsYXk6ZnVuY3Rpb24oKXt0aGlzLmF1dG9wbGF5SW50ZXJ2YWwmJih0aGlzLmF1dG9wbGF5SW50ZXJ2YWw9Y2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9wbGF5SW50ZXJ2YWwpKX0sc3RhcnRBdXRvcGxheTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5hdXRvcGxheSYmKHRoaXMuYXV0b3BsYXlJbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe1wibHRyXCI9PT10LmRpcj90LmdvUHJldigpOnQuZ29OZXh0KCl9LHRoaXMuYXV0b3BsYXlUaW1lb3V0KSl9fSxtb3VudGVkOmZ1bmN0aW9uKCl7IXRoaXMuJGlzU2VydmVyJiZ0aGlzLmF1dG9wbGF5SG92ZXJQYXVzZSYmKHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsdGhpcy5wYXVzZUF1dG9wbGF5KSx0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHRoaXMuc3RhcnRBdXRvcGxheSkpLHRoaXMuc3RhcnRBdXRvcGxheSgpfX07ZS5kZWZhdWx0PW59LGZ1bmN0aW9uKHQsZSxuKXtuKDExKTt2YXIgaT1uKDcpKG4oMTMpLG4oMTQpLFwiZGF0YS12LTQzZTkzOTMyXCIsbnVsbCk7dC5leHBvcnRzPWkuZXhwb3J0c30sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTIpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaWQsaSxcIlwiXV0pLGkubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKTtuKDUpKFwiMDZjNjYyMzBcIixpLCEwKX0sZnVuY3Rpb24odCxlLG4pe2U9dC5leHBvcnRzPW4oNCkoKSxlLnB1c2goW3QuaWQsXCIuY2Fyb3VzZWwtM2QtY29udHJvbHNbZGF0YS12LTQzZTkzOTMyXXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2hlaWdodDowO21hcmdpbi10b3A6LTMwcHg7bGVmdDowO3dpZHRoOjEwMCU7ei1pbmRleDo5MDk5fS5uZXh0W2RhdGEtdi00M2U5MzkzMl0sLnByZXZbZGF0YS12LTQzZTkzOTMyXXt3aWR0aDo2MHB4O3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6OTk5OTtmb250LXNpemU6NjBweDtoZWlnaHQ6NjBweDtsaW5lLWhlaWdodDo2MHB4O2NvbG9yOiMzMzM7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3RleHQtZGVjb3JhdGlvbjpub25lO3RvcDowfS5uZXh0W2RhdGEtdi00M2U5MzkzMl06aG92ZXIsLnByZXZbZGF0YS12LTQzZTkzOTMyXTpob3ZlcntjdXJzb3I6cG9pbnRlcjtvcGFjaXR5Oi43fS5wcmV2W2RhdGEtdi00M2U5MzkzMl17bGVmdDoxMHB4O3RleHQtYWxpZ246bGVmdH0ubmV4dFtkYXRhLXYtNDNlOTM5MzJde3JpZ2h0OjEwcHg7dGV4dC1hbGlnbjpyaWdodH0uZGlzYWJsZWRbZGF0YS12LTQzZTkzOTMyXSwuZGlzYWJsZWRbZGF0YS12LTQzZTkzOTMyXTpob3ZlcntvcGFjaXR5Oi4yO2N1cnNvcjpkZWZhdWx0fVwiLFwiXCJdKX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9e25hbWU6XCJjb250cm9sc1wiLHByb3BzOnt3aWR0aDp7dHlwZTpbU3RyaW5nLE51bWJlcl0sZGVmYXVsdDo1MH0saGVpZ2h0Ont0eXBlOltTdHJpbmcsTnVtYmVyXSxkZWZhdWx0OjYwfSxwcmV2SHRtbDp7dHlwZTpTdHJpbmcsZGVmYXVsdDpcIiZsc2FxdW87XCJ9LG5leHRIdG1sOnt0eXBlOlN0cmluZyxkZWZhdWx0OlwiJnJzYXF1bztcIn19LGRhdGE6ZnVuY3Rpb24oKXtyZXR1cm57cGFyZW50OnRoaXMuJHBhcmVudH19fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LiRjcmVhdGVFbGVtZW50LG49dC5fc2VsZi5fY3x8ZTtyZXR1cm4gbihcImRpdlwiLHtzdGF0aWNDbGFzczpcImNhcm91c2VsLTNkLWNvbnRyb2xzXCJ9LFtuKFwiYVwiLHtzdGF0aWNDbGFzczpcInByZXZcIixjbGFzczp7ZGlzYWJsZWQ6IXQucGFyZW50LmlzUHJldlBvc3NpYmxlfSxzdHlsZTpcIndpZHRoOiBcIit0LndpZHRoK1wicHg7IGhlaWdodDogXCIrdC5oZWlnaHQrXCJweDsgbGluZS1oZWlnaHQ6IFwiK3QuaGVpZ2h0K1wicHg7XCIsYXR0cnM6e2hyZWY6XCIjXCJ9LG9uOntjbGljazpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdC5wYXJlbnQuZ29QcmV2KCl9fX0sW24oXCJzcGFuXCIse2RvbVByb3BzOntpbm5lckhUTUw6dC5fcyh0LnByZXZIdG1sKX19KV0pLHQuX3YoXCIgXCIpLG4oXCJhXCIse3N0YXRpY0NsYXNzOlwibmV4dFwiLGNsYXNzOntkaXNhYmxlZDohdC5wYXJlbnQuaXNOZXh0UG9zc2libGV9LHN0eWxlOlwid2lkdGg6IFwiK3Qud2lkdGgrXCJweDsgaGVpZ2h0OiBcIit0LmhlaWdodCtcInB4OyBsaW5lLWhlaWdodDogXCIrdC5oZWlnaHQrXCJweDtcIixhdHRyczp7aHJlZjpcIiNcIn0sb246e2NsaWNrOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0LnBhcmVudC5nb05leHQoKX19fSxbbihcInNwYW5cIix7ZG9tUHJvcHM6e2lubmVySFRNTDp0Ll9zKHQubmV4dEh0bWwpfX0pXSldKX0sc3RhdGljUmVuZGVyRm5zOltdfX0sZnVuY3Rpb24odCxlLG4pe24oMTYpO3ZhciBpPW4oNykobigxOCksbig1NiksbnVsbCxudWxsKTt0LmV4cG9ydHM9aS5leHBvcnRzfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigxNyk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pZCxpLFwiXCJdXSksaS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpO24oNSkoXCIxZGJhY2Y4YVwiLGksITApfSxmdW5jdGlvbih0LGUsbil7ZT10LmV4cG9ydHM9big0KSgpLGUucHVzaChbdC5pZCxcIi5jYXJvdXNlbC0zZC1zbGlkZXtwb3NpdGlvbjphYnNvbHV0ZTtvcGFjaXR5OjA7dmlzaWJpbGl0eTpoaWRkZW47b3ZlcmZsb3c6aGlkZGVuO3RvcDowO2JvcmRlci1yYWRpdXM6MXB4O2JvcmRlci1jb2xvcjojMDAwO2JvcmRlci1jb2xvcjpyZ2JhKDAsMCwwLC40KTtib3JkZXItc3R5bGU6c29saWQ7YmFja2dyb3VuZC1zaXplOmNvdmVyO2JhY2tncm91bmQtY29sb3I6I2NjYztkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JveC1zaXppbmc6Ym9yZGVyLWJveDt0ZXh0LWFsaWduOmxlZnR9LmNhcm91c2VsLTNkLXNsaWRlIGltZ3t3aWR0aDoxMDAlfS5jYXJvdXNlbC0zZC1zbGlkZS5jdXJyZW50e29wYWNpdHk6MSFpbXBvcnRhbnQ7dmlzaWJpbGl0eTp2aXNpYmxlIWltcG9ydGFudDt0cmFuc2Zvcm06bm9uZSFpbXBvcnRhbnQ7ei1pbmRleDo5OTl9XCIsXCJcIl0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9bigxOSksbz1pKHIpO2UuZGVmYXVsdD17bmFtZTpcInNsaWRlXCIscHJvcHM6e2luZGV4Ont0eXBlOk51bWJlcn19LGRhdGE6ZnVuY3Rpb24oKXtyZXR1cm57cGFyZW50OnRoaXMuJHBhcmVudCxzdHlsZXM6e30sekluZGV4Ojk5OX19LGNvbXB1dGVkOntpc0N1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRleD09PXRoaXMucGFyZW50LmN1cnJlbnRJbmRleH0sc2xpZGVTdHlsZTpmdW5jdGlvbigpe3ZhciB0PXt9O2lmKCF0aGlzLmlzQ3VycmVudCl7dmFyIGU9dGhpcy5nZXRTaWRlSW5kZXgodGhpcy5wYXJlbnQucmlnaHRJbmRpY2VzKSxuPXRoaXMuZ2V0U2lkZUluZGV4KHRoaXMucGFyZW50LmxlZnRJbmRpY2VzKTsoZT49MHx8bj49MCkmJih0PWU+PTA/dGhpcy5jYWxjdWxhdGVQb3NpdGlvbihlLCEwLHRoaXMuekluZGV4KTp0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKG4sITEsdGhpcy56SW5kZXgpLHQub3BhY2l0eT0xLHQudmlzaWJpbGl0eT1cInZpc2libGVcIiksdGhpcy5wYXJlbnQuaGFzSGlkZGVuU2xpZGVzJiYodGhpcy5tYXRjaEluZGV4KHRoaXMucGFyZW50LmxlZnRPdXRJbmRleCk/dD10aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKHRoaXMucGFyZW50LmxlZnRJbmRpY2VzLmxlbmd0aC0xLCExLHRoaXMuekluZGV4KTp0aGlzLm1hdGNoSW5kZXgodGhpcy5wYXJlbnQucmlnaHRPdXRJbmRleCkmJih0PXRoaXMuY2FsY3VsYXRlUG9zaXRpb24odGhpcy5wYXJlbnQucmlnaHRJbmRpY2VzLmxlbmd0aC0xLCEwLHRoaXMuekluZGV4KSkpfXJldHVybigwLG8uZGVmYXVsdCkodCx7XCJib3JkZXItd2lkdGhcIjp0aGlzLnBhcmVudC5ib3JkZXIrXCJweFwiLHdpZHRoOnRoaXMucGFyZW50LnNsaWRlV2lkdGgrXCJweFwiLGhlaWdodDp0aGlzLnBhcmVudC5zbGlkZUhlaWdodCtcInB4XCIsdHJhbnNpdGlvbjpcIiB0cmFuc2Zvcm0gXCIrdGhpcy5wYXJlbnQuYW5pbWF0aW9uU3BlZWQrXCJtcywgICAgICAgICAgICAgICAgb3BhY2l0eSBcIit0aGlzLnBhcmVudC5hbmltYXRpb25TcGVlZCtcIm1zLCAgICAgICAgICAgICAgICB2aXNpYmlsaXR5IFwiK3RoaXMucGFyZW50LmFuaW1hdGlvblNwZWVkK1wibXNcIn0pfX0sbWV0aG9kczp7Z2V0U2lkZUluZGV4OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj0tMTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQsaSl7ZS5tYXRjaEluZGV4KHQpJiYobj1pKX0pLG59LG1hdGNoSW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTA/dGhpcy5pbmRleD09PXQ6dGhpcy5wYXJlbnQudG90YWwrdD09PXRoaXMuaW5kZXh9LGNhbGN1bGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLnBhcmVudC5kaXNhYmxlM2Q/MDpwYXJzZUludCh0aGlzLnBhcmVudC5pbnZlcnNlU2NhbGluZykrMTAwKih0KzEpLHI9dGhpcy5wYXJlbnQuZGlzYWJsZTNkPzA6cGFyc2VJbnQodGhpcy5wYXJlbnQucGVyc3BlY3RpdmUpLG89XCJhdXRvXCI9PT10aGlzLnBhcmVudC5zcGFjZT9wYXJzZUludCgodCsxKSoodGhpcy5wYXJlbnQud2lkdGgvMS41KSwxMCk6cGFyc2VJbnQoKHQrMSkqdGhpcy5wYXJlbnQuc3BhY2UsMTApLHM9ZT9cInRyYW5zbGF0ZVgoXCIrbytcInB4KSB0cmFuc2xhdGVaKC1cIitpK1wicHgpIHJvdGF0ZVkoLVwiK3IrXCJkZWcpXCI6XCJ0cmFuc2xhdGVYKC1cIitvK1wicHgpIHRyYW5zbGF0ZVooLVwiK2krXCJweCkgcm90YXRlWShcIityK1wiZGVnKVwiLGE9XCJhdXRvXCI9PT10aGlzLnBhcmVudC5zcGFjZT8wOnBhcnNlSW50KCh0KzEpKnRoaXMucGFyZW50LnNwYWNlKTtyZXR1cm57dHJhbnNmb3JtOnMsdG9wOmEsekluZGV4Om4tKE1hdGguYWJzKHQpKzEpfX0sZ29UbzpmdW5jdGlvbigpe3RoaXMuaXNDdXJyZW50P3RoaXMucGFyZW50Lm9uTWFpblNsaWRlQ2xpY2soKTp0aGlzLnBhcmVudC5jbGlja2FibGU9PT0hMCYmdGhpcy5wYXJlbnQuZ29GYXIodGhpcy5pbmRleCl9fX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e2RlZmF1bHQ6bigyMCksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDIxKSx0LmV4cG9ydHM9bigyNCkuT2JqZWN0LmFzc2lnbn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMjIpO2koaS5TK2kuRixcIk9iamVjdFwiLHthc3NpZ246bigzNyl9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMjMpLHI9bigyNCksbz1uKDI1KSxzPW4oMjcpLGE9XCJwcm90b3R5cGVcIix1PWZ1bmN0aW9uKHQsZSxuKXt2YXIgbCxjLGQsaD10JnUuRixwPXQmdS5HLGY9dCZ1LlMsdj10JnUuUCx4PXQmdS5CLG09dCZ1LlcsZz1wP3I6cltlXXx8KHJbZV09e30pLHk9Z1thXSxiPXA/aTpmP2lbZV06KGlbZV18fHt9KVthXTtwJiYobj1lKTtmb3IobCBpbiBuKWM9IWgmJmImJnZvaWQgMCE9PWJbbF0sYyYmbCBpbiBnfHwoZD1jP2JbbF06bltsXSxnW2xdPXAmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGJbbF0/bltsXTp4JiZjP28oZCxpKTptJiZiW2xdPT1kP2Z1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUsbixpKXtpZih0aGlzIGluc3RhbmNlb2YgdCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGUsbil9cmV0dXJuIG5ldyB0KGUsbixpKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlW2FdPXRbYV0sZX0oZCk6diYmXCJmdW5jdGlvblwiPT10eXBlb2YgZD9vKEZ1bmN0aW9uLmNhbGwsZCk6ZCx2JiYoKGcudmlydHVhbHx8KGcudmlydHVhbD17fSkpW2xdPWQsdCZ1LlImJnkmJiF5W2xdJiZzKHksbCxkKSkpfTt1LkY9MSx1Lkc9Mix1LlM9NCx1LlA9OCx1LkI9MTYsdS5XPTMyLHUuVT02NCx1LlI9MTI4LHQuZXhwb3J0cz11fSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcIm51bWJlclwiPT10eXBlb2YgX19nJiYoX19nPW4pfSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjpcIjIuNC4wXCJ9O1wibnVtYmVyXCI9PXR5cGVvZiBfX2UmJihfX2U9bil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDI2KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKGkodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdC5jYWxsKGUsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixpKXtyZXR1cm4gdC5jYWxsKGUsbixpKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLGkscil7cmV0dXJuIHQuY2FsbChlLG4saSxyKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgZnVuY3Rpb24hXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMjgpLHI9bigzNik7dC5leHBvcnRzPW4oMzIpP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaS5mKHQsZSxyKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMjkpLHI9bigzMSksbz1uKDM1KSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtlLmY9bigzMik/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKHQsZSxuKXtpZihpKHQpLGU9byhlLCEwKSxpKG4pLHIpdHJ5e3JldHVybiBzKHQsZSxuKX1jYXRjaCh0KXt9aWYoXCJnZXRcImluIG58fFwic2V0XCJpbiBuKXRocm93IFR5cGVFcnJvcihcIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIVwiKTtyZXR1cm5cInZhbHVlXCJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMzApO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighaSh0KSl0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYW4gb2JqZWN0IVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P251bGwhPT10OlwiZnVuY3Rpb25cIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDMyKSYmIW4oMzMpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuKDM0KShcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDMzKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiEhdCgpfWNhdGNoKHQpe3JldHVybiEwfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDMwKSxyPW4oMjMpLmRvY3VtZW50LG89aShyKSYmaShyLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbz9yLmNyZWF0ZUVsZW1lbnQodCk6e319fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigzMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIWkodCkpcmV0dXJuIHQ7dmFyIG4scjtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhaShyPW4uY2FsbCh0KSkpcmV0dXJuIHI7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnZhbHVlT2YpJiYhaShyPW4uY2FsbCh0KSkpcmV0dXJuIHI7aWYoIWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFpKHI9bi5jYWxsKHQpKSlyZXR1cm4gcjt0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDM4KSxyPW4oNTMpLG89big1NCkscz1uKDU1KSxhPW4oNDIpLHU9T2JqZWN0LmFzc2lnbjt0LmV4cG9ydHM9IXV8fG4oMzMpKGZ1bmN0aW9uKCl7dmFyIHQ9e30sZT17fSxuPVN5bWJvbCgpLGk9XCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiO3JldHVybiB0W25dPTcsaS5zcGxpdChcIlwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF09dH0pLDchPXUoe30sdClbbl18fE9iamVjdC5rZXlzKHUoe30sZSkpLmpvaW4oXCJcIikhPWl9KT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1zKHQpLHU9YXJndW1lbnRzLmxlbmd0aCxsPTEsYz1yLmYsZD1vLmY7dT5sOylmb3IodmFyIGgscD1hKGFyZ3VtZW50c1tsKytdKSxmPWM/aShwKS5jb25jYXQoYyhwKSk6aShwKSx2PWYubGVuZ3RoLHg9MDt2Png7KWQuY2FsbChwLGg9Zlt4KytdKSYmKG5baF09cFtoXSk7cmV0dXJuIG59OnV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDM5KSxyPW4oNTIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7cmV0dXJuIGkodCxyKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDQwKSxyPW4oNDEpLG89big0NSkoITEpLHM9big0OSkoXCJJRV9QUk9UT1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixhPXIodCksdT0wLGw9W107Zm9yKG4gaW4gYSluIT1zJiZpKGEsbikmJmwucHVzaChuKTtmb3IoO2UubGVuZ3RoPnU7KWkoYSxuPWVbdSsrXSkmJih+byhsLG4pfHxsLnB1c2gobikpO3JldHVybiBsfX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jYWxsKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big0Mikscj1uKDQ0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkocih0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big0Myk7dC5leHBvcnRzPU9iamVjdChcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKHQpe3JldHVyblwiU3RyaW5nXCI9PWkodCk/dC5zcGxpdChcIlwiKTpPYmplY3QodCl9fSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbi5jYWxsKHQpLnNsaWNlKDgsLTEpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT10KXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIit0KTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDQxKSxyPW4oNDYpLG89big0OCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4scyl7dmFyIGEsdT1pKGUpLGw9cih1Lmxlbmd0aCksYz1vKHMsbCk7aWYodCYmbiE9bil7Zm9yKDtsPmM7KWlmKGE9dVtjKytdLGEhPWEpcmV0dXJuITB9ZWxzZSBmb3IoO2w+YztjKyspaWYoKHR8fGMgaW4gdSkmJnVbY109PT1uKXJldHVybiB0fHxjfHwwO3JldHVybiF0JiYtMX19fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big0Nykscj1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9yKGkodCksOTAwNzE5OTI1NDc0MDk5MSk6MH19LGZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jZWlsLGk9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQ9K3QpPzA6KHQ+MD9pOm4pKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNDcpLHI9TWF0aC5tYXgsbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1pKHQpLHQ8MD9yKHQrZSwwKTpvKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big1MCkoXCJrZXlzXCIpLHI9big1MSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpW3RdfHwoaVt0XT1yKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDIzKSxyPVwiX19jb3JlLWpzX3NoYXJlZF9fXCIsbz1pW3JdfHwoaVtyXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvW3RdfHwob1t0XT17fSl9fSxmdW5jdGlvbih0LGUpe3ZhciBuPTAsaT1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIlN5bWJvbChcIi5jb25jYXQodm9pZCAwPT09dD9cIlwiOnQsXCIpX1wiLCgrK24raSkudG9TdHJpbmcoMzYpKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mXCIuc3BsaXQoXCIsXCIpfSxmdW5jdGlvbih0LGUpe2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbih0LGUpe2UuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNDQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGkodCkpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LiRjcmVhdGVFbGVtZW50LG49dC5fc2VsZi5fY3x8ZTtyZXR1cm4gbihcImRpdlwiLHtzdGF0aWNDbGFzczpcImNhcm91c2VsLTNkLXNsaWRlXCIsY2xhc3M6e2N1cnJlbnQ6dC5pc0N1cnJlbnR9LHN0eWxlOnQuc2xpZGVTdHlsZSxvbjp7Y2xpY2s6ZnVuY3Rpb24oZSl7dC5nb1RvKCl9fX0sW3QuX3QoXCJkZWZhdWx0XCIpXSwyKX0sc3RhdGljUmVuZGVyRm5zOltdfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LiRjcmVhdGVFbGVtZW50LG49dC5fc2VsZi5fY3x8ZTtyZXR1cm4gbihcImRpdlwiLHtzdGF0aWNDbGFzczpcImNhcm91c2VsLTNkLWNvbnRhaW5lclwiLHN0eWxlOntoZWlnaHQ6dGhpcy5zbGlkZUhlaWdodCtcInB4XCJ9fSxbbihcImRpdlwiLHtzdGF0aWNDbGFzczpcImNhcm91c2VsLTNkLXNsaWRlclwiLHN0eWxlOnt3aWR0aDp0aGlzLnNsaWRlV2lkdGgrXCJweFwiLGhlaWdodDp0aGlzLnNsaWRlSGVpZ2h0K1wicHhcIn19LFt0Ll90KFwiZGVmYXVsdFwiKV0sMiksdC5fdihcIiBcIiksdC5jb250cm9sc1Zpc2libGU/bihcImNvbnRyb2xzXCIse2F0dHJzOntcIm5leHQtaHRtbFwiOnQuY29udHJvbHNOZXh0SHRtbCxcInByZXYtaHRtbFwiOnQuY29udHJvbHNQcmV2SHRtbCx3aWR0aDp0LmNvbnRyb2xzV2lkdGgsaGVpZ2h0OnQuY29udHJvbHNIZWlnaHR9fSk6dC5fZSgpXSwxKX0sc3RhdGljUmVuZGVyRm5zOltdfX1dKX0pOyJdfQ==
